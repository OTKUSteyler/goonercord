"use strict";(()=>{var gh=Object.create;var Ia=Object.defineProperty;var vh=Object.getOwnPropertyDescriptor;var yh=Object.getOwnPropertyNames;var _h=Object.getPrototypeOf,xh=Object.prototype.hasOwnProperty;var p=(e,r)=>()=>(e&&(r=e(e=0)),r);var zr=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),F=(e,r)=>{for(var t in r)Ia(e,t,{get:r[t],enumerable:!0})},Gc=(e,r,t,o)=>{if(r&&typeof r=="object"||typeof r=="function")for(var n=yh(r),i=0,u=n.length,c;i<u;i++)c=n[i],!xh.call(e,c)&&c!==t&&Ia(e,c,{get:(f=>r[f]).bind(null,c),enumerable:!(o=vh(r,c))||o.enumerable});return e};var U=(e,r,t)=>(t=e!=null?gh(_h(e)):{},Gc(r||!e||!e.__esModule?Ia(t,"default",{value:e,enumerable:!0}):t,e)),Ge=e=>Gc(Ia({},"__esModule",{value:!0}),e);var d,s=p(()=>{"use strict";d=Symbol("Symbol.asyncIterator")});var Sh,bh,Eh,m,l=p(()=>{"use strict";Sh=e=>({status:"fulfilled",value:e}),bh=e=>({status:"rejected",reason:e}),Eh=e=>Promise.resolve(e).then(Sh,bh),m=Promise.allSettled??=e=>Promise.all(Array.from(e).map(Eh))});function $c(e,r,t,o,n,i,u){try{var c=e[i](u),f=c.value}catch(b){t(b);return}c.done?r(f):Promise.resolve(f).then(o,n)}function x(e){return function(){var r=this,t=arguments;return new Promise(function(o,n){var i=e.apply(r,t);function u(f){$c(i,o,n,u,c,"next",f)}function c(f){$c(i,o,n,u,c,"throw",f)}u(void 0)})}}var pe=p(()=>{s();l()});var Pa=zr((Zy,qc)=>{s();l();var Ki=Object.defineProperty,wh=Object.getOwnPropertyDescriptor,Ah=Object.getOwnPropertyNames,Th=Object.prototype.hasOwnProperty,Ch=(e,r)=>{for(var t in r)Ki(e,t,{get:r[t],enumerable:!0})},Rh=(e,r,t,o)=>{if(r&&typeof r=="object"||typeof r=="function"){var n=function(u){!Th.call(e,u)&&u!==t&&Ki(e,u,{get:()=>r[u],enumerable:!(o=wh(r,u))||o.enumerable})};for(var i of Ah(r))n(i)}return e},Ih=e=>Rh(Ki({},"__esModule",{value:!0}),e),Yc={};Ch(Yc,{after:()=>Dh,before:()=>Lh,instead:()=>Oh,unpatchAll:()=>Nh});qc.exports=Ih(Yc);var Wc=["a","b","i"],ao=new Map;function Ph(e,r,t,o,n){var i=ao.get(r)?.[e];if(!i)return n?Reflect.construct(r[e],t,o):r[e].apply(o,t);for(var u of i.b.values()){var c=u.call(o,t);Array.isArray(c)&&(t=c)}var f=[...i.i.values()].reduce((g,E)=>(...C)=>E.call(o,C,g),(...g)=>n?Reflect.construct(i.o,g,o):i.o.apply(o,g))(...t);for(var b of i.a.values())f=b.call(o,t,f)??f;return f}function Kc(e,r,t,o){var n=ao.get(e),i=n?.[r];if(!i?.[o].has(t))return!1;if(i[o].delete(t),Wc.every(c=>i[c].size===0)){var u=Reflect.defineProperty(e,r,{value:i.o,writable:!0,configurable:!0});u||(e[r]=i.o),delete n[r]}return Object.keys(n).length==0&&ao.delete(e),!0}function Nh(){for(var[e,r]of ao.entries())for(var t in r)for(var o of Wc)for(var n of r[t]?.[o].keys()??[])Kc(e,t,n,o)}var qi=e=>(r,t,o,n=!1)=>{if(typeof t[r]!="function")throw new Error(`${r} is not a function in ${t.constructor.name}`);ao.has(t)||ao.set(t,Object.create(null));var i=ao.get(t);if(!i[r]){var u=t[r];i[r]={o:u,b:new Map,i:new Map,a:new Map};var c=(C,I,q)=>{var de=Ph(r,t,I,C,q);return n&&E(),de},f=new Proxy(u,{apply:(C,I,q)=>c(I,q,!1),construct:(C,I)=>c(u,I,!0),get:(C,I,q)=>I=="toString"?u.toString.bind(u):Reflect.get(C,I,q)}),b=Reflect.defineProperty(t,r,{value:f,configurable:!0,writable:!0});b||(t[r]=f)}var g=Symbol(),E=()=>Kc(t,r,g,e);return i[r][e].set(g,o),E},Lh=qi("b"),Oh=qi("i"),Dh=qi("a")});var Xc={};F(Xc,{BundleUpdaterManager:()=>dr,NativeCacheModule:()=>io,NativeClientInfoModule:()=>so,NativeDeviceModule:()=>lo,NativeFileModule:()=>Z,NativeThemeModule:()=>Xi});var $e,io,Z,so,lo,Xi,dr,Er=p(()=>{"use strict";s();l();$e=window.nativeModuleProxy,io=$e.NativeCacheModule??$e.MMKVManager,Z=$e.NativeFileModule??$e.RTNFileManager??$e.DCDFileManager,so=$e.NativeClientInfoModule??$e.RTNClientInfoManager??$e.InfoDictionaryManager,lo=$e.NativeDeviceModule??$e.RTNDeviceManager??$e.DCDDeviceManager,Xi=$e.NativeThemeModule??$e.RTNThemeManager??$e.DCDTheme,{BundleUpdaterManager:dr}=$e});var dn={};F(dn,{clearFolder:()=>ns,downloadFile:()=>as,fileExists:()=>tt,readFile:()=>co,removeCacheFile:()=>Jc,removeFile:()=>uo,writeFile:()=>wr});function ns(e){return Ji.apply(this,arguments)}function Ji(){return Ji=x(function*(e,{prefix:r="pyoncord/"}={}){if(typeof Z.clearFolder!="function")throw new Error("'fs.clearFolder' is not supported");return void(yield Z.clearFolder("documents",`${r}${e}`))}),Ji.apply(this,arguments)}function uo(e){return Zi.apply(this,arguments)}function Zi(){return Zi=x(function*(e,{prefix:r="pyoncord/"}={}){if(typeof Z.removeFile!="function")throw new Error("'fs.removeFile' is not supported");return void(yield Z.removeFile("documents",`${r}${e}`))}),Zi.apply(this,arguments)}function Jc(e){return Qi.apply(this,arguments)}function Qi(){return Qi=x(function*(e,r="pyoncord/"){if(typeof Z.removeFile!="function")throw new Error("'fs.removeFile' is not supported");return void(yield Z.removeFile("cache",`${r}${e}`))}),Qi.apply(this,arguments)}function tt(e){return es.apply(this,arguments)}function es(){return es=x(function*(e,{prefix:r="pyoncord/"}={}){return yield Z.fileExists(`${Z.getConstants().DocumentsDirPath}/${r}${e}`)}),es.apply(this,arguments)}function wr(e,r){return rs.apply(this,arguments)}function rs(){return rs=x(function*(e,r,{prefix:t="pyoncord/"}={}){if(typeof r!="string")throw new Error("Argument 'data' must be a string");return void(yield Z.writeFile("documents",`${t}${e}`,r,"utf8"))}),rs.apply(this,arguments)}function co(e){return ts.apply(this,arguments)}function ts(){return ts=x(function*(e,{prefix:r="pyoncord/"}={}){try{return yield Z.readFile(`${Z.getConstants().DocumentsDirPath}/${r}${e}`,"utf8")}catch(t){throw new Error(`An error occured while writing to '${e}'`,{cause:t})}}),ts.apply(this,arguments)}function as(e,r){return os.apply(this,arguments)}function os(){return os=x(function*(e,r,{prefix:t="pyoncord/"}={}){var o=yield fetch(e);if(!o.ok)throw new Error(`Failed to download file from ${e}: ${o.status}`);var n=yield o.arrayBuffer(),i=Buffer.from(n).toString("base64");yield Z.writeFile("documents",`${t}${r}`,i,"base64")}),os.apply(this,arguments)}var ot=p(()=>{"use strict";s();l();pe();Er()});function fo(e){return fo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},fo(e)}var is=p(()=>{s();l()});function pn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pn=function(){return!!e})()}var ss=p(()=>{s();l()});function Zc(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Qc=p(()=>{s();l()});function ef(e){"@swc/helpers - typeof";return e&&typeof Symbol<"u"&&e.constructor===Symbol?"symbol":typeof e}var rf=p(()=>{s();l()});function tf(e,r){return r&&(ef(r)==="object"||typeof r=="function")?r:Zc(e)}var of=p(()=>{s();l();Qc();rf()});function Tt(e,r,t){return r=fo(r),tf(e,pn()?Reflect.construct(r,t||[],fo(e).constructor):r.apply(e,t))}var Na=p(()=>{s();l();is();ss();of()});function nr(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var hn=p(()=>{s();l()});function Ct(e,r){return Ct=Object.setPrototypeOf||function(o,n){return o.__proto__=n,o},Ct(e,r)}var La=p(()=>{s();l()});function Rt(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Ct(e,r)}var Oa=p(()=>{s();l();La()});function gn(e,r,t){return pn()?gn=Reflect.construct:gn=function(n,i,u){var c=[null];c.push.apply(c,i);var f=Function.bind.apply(n,c),b=new f;return u&&Ct(b,u.prototype),b},gn.apply(null,arguments)}var nf=p(()=>{s();l();ss();La()});function af(e){return Function.toString.call(e).indexOf("[native code]")!==-1}var sf=p(()=>{s();l()});function Da(e){var r=typeof Map=="function"?new Map:void 0;return Da=function(o){if(o===null||!af(o))return o;if(typeof o!="function")throw new TypeError("Super expression must either be null or a function");if(typeof r<"u"){if(r.has(o))return r.get(o);r.set(o,n)}function n(){return gn(o,arguments,fo(this).constructor)}return n.prototype=Object.create(o.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),Ct(n,o)},Da(e)}var lf=p(()=>{s();l();nf();is();sf();La()});function vn(e,r,{signal:t,edges:o}={}){var n=void 0,i=null,u=o!=null&&o.includes("leading"),c=o==null||o.includes("trailing"),f=()=>{i!==null&&(e.apply(n,i),n=void 0,i=null)},b=()=>{c&&f(),I()},g=null,E=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,b()},r)},C=()=>{g!==null&&(clearTimeout(g),g=null)},I=()=>{C(),n=void 0,i=null},q=()=>{C(),f()},de=function(...Vr){if(!t?.aborted){n=this,i=Vr;var At=g==null;E(),u&&At&&f()}};return de.schedule=E,de.cancel=I,de.flush=q,t?.addEventListener("abort",I,{once:!0}),de}var uf=p(()=>{s();l()});function yn(e,r){for(var t={...e},o=0;o<r.length;o++){var n=r[o];delete t[n]}return t}var cf=p(()=>{s();l()});function Ba(e){return e!=null}var ff=p(()=>{s();l()});var Bo=p(()=>{s();l();uf();cf();ff()});var Ar,Gr,Ma=p(()=>{"use strict";s();l();(function(e){e[e.EXISTS=1]="EXISTS",e[e.BLACKLISTED=2]="BLACKLISTED",e[e.ASSET=4]="ASSET"})(Ar||(Ar={}));(function(e){e[e.FULL_LOOKUP=0]="FULL_LOOKUP",e[e.NOT_FOUND=1]="NOT_FOUND"})(Gr||(Gr={}))});var mo={};F(mo,{_patcherDelaySymbol:()=>_n,after:()=>ie,before:()=>It,default:()=>xn,instead:()=>Pt});function ls(e){function r(...o){if(_n in o[1]){var n=o[1][_n],i=!1,u=()=>i=!0;return n(c=>{i||(o[1]=c,u=e.apply(this,o))}),()=>u()}return e.apply(this,o)}function t(...o){var n=o[1];if(!n||!("then"in n))throw new Error("target is not a then-able object");var i=!1,u=()=>i=!0;return n.then(c=>{i||(o[1]=c,u=r.apply(this,o))}),()=>u()}return Object.assign(r,{await:t})}var Bh,Mh,Fh,_n,ie,It,Pt,xn,Le=p(()=>{"use strict";s();l();({after:Bh,before:Mh,instead:Fh}=Pa()),_n=Symbol.for("bunny.api.patcher.delay");ie=ls(Bh),It=ls(Mh),Pt=ls(Fh),xn={after:ie,before:It,instead:Pt}});var mf={};F(mf,{assetsModule:()=>Mo,patchAssets:()=>jh});function jh(e){if(!Mo){Mo=e;var r=ie("registerAsset",Mo,()=>{var t=cs();t!==-1&&fs(t)});return r}}var Mo,us=p(()=>{"use strict";s();l();Le();Lt();Nt()});function df(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Tr(e,r,t){return r&&df(e.prototype,r),t&&df(e,t),e}var Sn=p(()=>{s();l()});function bn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var ms=p(()=>{s();l()});var ds,Fa,ps=p(()=>{"use strict";s();l();hn();Sn();ms();(function(e){e.GET="GET",e.SET="SET",e.DEL="DEL"})(ds||(ds={}));Fa=function(){"use strict";function e(){nr(this,e),bn(this,"listeners",Object.values(ds).reduce((r,t)=>(r[t]=new Set,r),{}))}return Tr(e,[{key:"on",value:function(t,o){this.listeners[t].has(o)||this.listeners[t].add(o)}},{key:"off",value:function(t,o){this.listeners[t].delete(o)}},{key:"once",value:function(t,o){var n=(i,u)=>{this.off(i,n),o(i,u)};this.on(t,n)}},{key:"emit",value:function(t,o){for(var n of this.listeners[t])n(t,o)}}]),e}()});var En={};F(En,{createFilterDefinition:()=>pr,createSimpleFilter:()=>Uh});function pr(e,r){function t(n,i,u){return Object.assign(n,{filter:e,raw:u,uniq:[u&&"raw::",r(i)].filter(Boolean).join("")})}var o=n=>(...i)=>t((u,c,f)=>e(i,u,c,f),i,n);return Object.assign(o(!1),{byRaw:o(!0),uniqMaker:r})}function Uh(e,r){return pr((t,o)=>e(o),()=>`dynamic::${r}`)()}var ja=p(()=>{"use strict";s();l()});var hs={};F(hs,{byDisplayName:()=>Dt,byFilePath:()=>ka,byMutableProp:()=>An,byName:()=>Ot,byProps:()=>wn,byStoreName:()=>Ua,byTypeName:()=>Bt});var wn,Ot,Dt,Bt,Ua,ka,An,Tn=p(()=>{"use strict";s();l();ja();Nt();wn=pr((e,r)=>e.length===0?r[e[0]]:e.every(t=>r[t]),e=>`bunny.metro.byProps(${e.join(",")})`),Ot=pr(([e],r)=>r.name===e,e=>`bunny.metro.byName(${e})`),Dt=pr(([e],r)=>r.displayName===e,e=>`bunny.metro.byDisplayName(${e})`),Bt=pr(([e],r)=>r.type?.name===e,e=>`bunny.metro.byTypeName(${e})`),Ua=pr(([e],r)=>r.getName?.length===0&&r.getName()===e,e=>`bunny.metro.byStoreName(${e})`),ka=pr(([e,r],t,o,n)=>r===n&&Ue[o]?.__filePath===e,([e,r])=>`bunny.metro.byFilePath(${e},${r})`),An=pr(([e],r)=>r?.[e]&&!Object.getOwnPropertyDescriptor(r,e)?.get,e=>`bunny.metro.byMutableProp(${e})`)});function pf(e,r,t){return e.default&&e.__esModule&&t(e.default,r,!0)?{exports:t.raw?e:e.default,defaultExport:!t.raw}:!t.raw&&t(e,r,!1)?{exports:e,defaultExport:!1}:{}}function gs(e){var{cacheId:r,finish:t}=Va(e.uniq,!1);for(var[o,n]of Ha(e.uniq,!1)){var{exports:i,defaultExport:u}=pf(n,o,e);if(i!==void 0)return r(o,i),{id:o,defaultExport:u}}return t(!0),{}}function kh(e){return gs(e)?.id}function Oe(e){var{id:r,defaultExport:t}=gs(e);if(r!=null)return t?hr(r).default:hr(r)}function vs(e){var{cacheId:r,finish:t}=Va(e.uniq,!0),o=[];for(var[n,i]of Ha(e.uniq,!0)){var{exports:u,defaultExport:c}=pf(i,n,e);u!==void 0&&typeof c=="boolean"&&(o.push({id:n,defaultExport:c}),r(n,u))}return t(o.length===0),o}function Hh(e){return vs(e).map(r=>r.id)}function Mt(e){return vs(e).map(r=>{if(r.id){var{id:t,defaultExport:o}=r;return o?hr(t).default:hr(t)}})}var Fo=p(()=>{"use strict";s();l();Lt();Nt()});var _s={};F(_s,{getProxyFactory:()=>ys,lazyDestructure:()=>H,proxyLazy:()=>Re});function Re(e,r={}){var t,o=r.hint!=="object"?function(){}:{},n=()=>t??=e(),i=new Proxy(o,zh);return gf.set(i,n),jo.set(o,{factory:e,options:r}),i}function H(e,r={}){var t=Re(e);return new Proxy({},{get(o,n){return n===Symbol.iterator?function*(){throw yield t,yield new Proxy({},{get:(i,u)=>Re(()=>t[u],r)}),new Error("This is not a real iterator, this is likely used incorrectly")}:Re(()=>t[n],r)}})}function ys(e){return gf.get(e)}var hf,Vh,gf,jo,zh,ge=p(()=>{"use strict";s();l();hf=new Set(["arguments","caller","prototype"]),Vh=e=>typeof e=="string"&&hf.has(e),gf=new WeakMap,jo=new WeakMap,zh={...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(e=>[e,(r,...t)=>{var o=jo.get(r),n=o?.factory();if(!n)throw new Error(`Trying to Reflect.${e} of ${typeof n}`);return Reflect[e](n,...t)}])),has(e,r){var t=jo.get(e);if(t?.options){var{exemptedEntries:o}=t.options;if(o&&r in o)return!0}var n=t?.factory();if(!n)throw new Error(`Trying to Reflect.has of ${typeof n}`);return Reflect.has(n,r)},get(e,r,t){var o=jo.get(e);if(o?.options){var{exemptedEntries:n}=o.options;if(n?.[r])return n[r]}var i=o?.factory();if(!i)throw new Error(`Trying to Reflect.get of ${typeof i}`);return Reflect.get(i,r,t)},ownKeys:e=>{var r=jo.get(e),t=r?.factory();if(!t)throw new Error(`Trying to Reflect.ownKeys of ${typeof t}`);var o=Reflect.ownKeys(t);return hf.forEach(n=>!o.includes(n)&&o.push(n)),o},getOwnPropertyDescriptor:(e,r)=>{if(Vh(r))return Reflect.getOwnPropertyDescriptor(e,r);var t=jo.get(e),o=t?.factory();if(!o)throw new Error(`Trying to getOwnPropertyDescriptor of ${typeof o}`);var n=Reflect.getOwnPropertyDescriptor(o,r);return n&&Object.defineProperty(e,r,n),n}}});var xs={};F(xs,{_lazyContextSymbol:()=>za,createLazyModule:()=>$r,getLazyContext:()=>yf});function Gh(e){var r=nt().findIndex[e.uniq];if(r){for(var t in r)if(t[0]!=="_")return Number(t)}}function $h(e,r){var t=yf(e);if(!t)throw new Error("Subscribing a module for non-proxy-find");if(!t.indexed)throw new Error("Attempting to subscribe to a non-indexed find");return Ss(t.moduleId,()=>{r(Oe(t.filter))})}function yf(e){return vf.get(e)}function $r(e){var r=void 0,t=Gh(e),o={filter:e,indexed:!!t,moduleId:t,getExports(i){return!t||Ue[t]?.isInitialized?(i(this.forceLoad()),()=>{}):this.subscribe(i)},subscribe(i){return $h(n,i)},get cache(){return r},forceLoad(){if(r??=Oe(e),!r)throw new Error(`${e.uniq} is ${typeof r}! (id ${o.moduleId??"unknown"})`);return r}},n=Re(()=>o.forceLoad(),{exemptedEntries:{[za]:o,[_n]:i=>o.getExports(i)}});return vf.set(n,o),n}var za,vf,Cn=p(()=>{"use strict";s();l();Le();ge();Fo();Lt();Nt();za=Symbol.for("bunny.metro.lazyContext"),vf=new WeakMap});var L,N,bs,Uo,Ye,Es,ws,As,Ts,Cs,Yh,Rs,Is,po,Ps,Rn,me=p(()=>{"use strict";s();l();Tn();Fo();Cn();L=(...e)=>Oe(wn(...e)),N=(...e)=>$r(wn(...e)),bs=(...e)=>Mt(wn(...e)),Uo=(e,r=!0)=>Oe(r?Ot(e):Ot.byRaw(e)),Ye=(e,r=!0)=>$r(r?Ot(e):Ot.byRaw(e)),Es=(e,r=!0)=>Mt(r?Ot(e):Ot.byRaw(e)),ws=(e,r=!0)=>Oe(r?Dt(e):Dt.byRaw(e)),As=(e,r=!0)=>$r(r?Dt(e):Dt.byRaw(e)),Ts=(e,r=!0)=>Mt(r?Dt(e):Dt.byRaw(e)),Cs=(e,r=!0)=>Oe(r?Bt(e):Bt.byRaw(e)),Yh=(e,r=!0)=>$r(r?Bt(e):Bt.byRaw(e)),Rs=(e,r=!0)=>Mt(r?Bt(e):Bt.byRaw(e)),Is=e=>Oe(Ua(e)),po=e=>$r(Ua(e)),Ps=(e,r=!1)=>Oe(ka(e,r)),Rn=(e,r=!1)=>$r(ka(e,r))});var Ft=zr((fS,_f)=>{"use strict";s();l();me();_f.exports={react:N("createElement"),"react-native":N("AppRegistry"),util:N("inspect","isNullOrUndefined"),moment:N("isMoment"),"chroma-js":N("brewer"),lodash:N("forEachRight"),"@shopify/react-native-skia":N("useFont")}});var K=zr((pS,xf)=>{s();l();xf.exports=Ft()["react-native"]});function In(e={}){var r=new Fa,t=new WeakMap,o=new WeakSet;function n(i,u){return new Proxy(i,{get(c,f){if(f===Ef)return r;var b=[...u,f],g=c[f];if(g!=null){if(r.emit("GET",{path:b,value:g}),typeof g=="object"){if(o.has(g))return g;if(t.has(g))return t.get(g);var E=n(g,b);return t.set(g,E),E}return g}return g},set(c,f,b){if(typeof b=="object")if(t.has(b))c[f]=t.get(b);else{var g=n(b,[...u,f]);t.set(b,g),o.add(b),c[f]=g}else c[f]=b;return r.emit("SET",{path:[...u,f],value:c[f]}),!0},deleteProperty(c,f){var b=typeof c[f]=="object"?t.get(c[f]):c[f],g=delete c[f];return g&&r.emit("DEL",{value:b,path:[...u,f]}),g}})}return{proxy:n(e,[]),emitter:r}}function Q(e){var r=e?.[Ef];if(!r)throw new Error("storage?.[emitterSymbol] is undefined");var[,t]=React.useReducer(o=>~o,0);return React.useEffect(()=>{var o=(n,i)=>{n==="DEL"&&i.value===e||t()};return r.on("SET",o),r.on("DEL",o),()=>{r.off("SET",o),r.off("DEL",o)}},[]),e}function ar(e){return Ns.apply(this,arguments)}function Ns(){return Ns=x(function*(e){var r=yield e.get(),{proxy:t,emitter:o}=In(r),n=()=>e.set(t);return o.on("SET",n),o.on("DEL",n),t}),Ns.apply(this,arguments)}function Cr(e){var r=void 0,t=[],o=n=>r?n():t.push(n);return e.then(n=>{r=n,t.forEach(i=>i())}),new Proxy({},{...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(n=>[n,(i,...u)=>Reflect[n](r??i,...u)])),get(n,i,u){return i===wf?o:Reflect.get(r??n,i,u)}})}function jt(...e){return Promise.all(e.map(r=>new Promise(t=>r[wf](t))))}var bf,Ef,wf,Sf,Ls,Af,Ga,Rr,ho,be=p(()=>{"use strict";s();l();pe();ps();Er();bf=U(K()),Ef=Symbol.for("vendetta.storage.emitter"),wf=Symbol.for("vendetta.storage.accessor");Sf=/[<>:"/\\|?*]/g,Ls=e=>bf.Platform.select({default:e,ios:Z.saveFileToGallery?e:`Documents/${e}`}),Af=e=>(Sf.test(e)&&(e=e.replace(Sf,"-").replace(/-+/g,"-")),`vd_mmkv/${e}`),Ga=function(){var e=x(function*(r){(yield io.getItem(r))&&io.removeItem(r);var t=Af(r);(yield Z.fileExists(`${Z.getConstants().DocumentsDirPath}/${t}`))&&(yield Z.removeFile?.("documents",t))});return function(t){return e.apply(this,arguments)}}(),Rr=(e,r={})=>{var t=Af(e),o=JSON.stringify(r);return ho(t,r,x(function*(){var n=`${Z.getConstants().DocumentsDirPath}/${t}`;if(!(yield Z.fileExists(n))){var i=(yield io.getItem(e))??o;if(i==="!!LARGE_VALUE!!"){var u=`${Z.getConstants().CacheDirPath}/mmkv/${e}`;(yield Z.fileExists(u))?i=yield Z.readFile(u,"utf8"):(console.log(`${e}: Experienced data loss :(`),i=o)}try{JSON.parse(i)}catch{console.error(`${e} had an unparseable data while migrating`),i=o}yield Z.writeFile("documents",Ls(t),i,"utf8"),(yield io.getItem(e))!==null&&(io.removeItem(e),console.log(`Successfully migrated ${e} store from MMKV storage to fs`))}})())},ho=(e,r={},t)=>({get:x(function*(){yield t;var o=`${Z.getConstants().DocumentsDirPath}/${e}`;if(yield Z.fileExists(o)){var n=yield Z.readFile(o,"utf8");try{return JSON.parse(n)}catch{}}return yield Z.writeFile("documents",Ls(e),JSON.stringify(r),"utf8"),JSON.parse(yield Z.readFile(o,"utf8"))}),set:function(){var o=x(function*(n){yield t,yield Z.writeFile("documents",Ls(e),JSON.stringify(n),"utf8")});return function(n){return o.apply(this,arguments)}}()})});var Pn,Nn,$a,Tf,Cf,ne,Kh,qh,Xh,Jh,Zh,Qh,Rf,eg,gr,Ut,rg,tg,og,ng,If,Pf,Nf,Lf,ag,ig,sg,lg,De,Os,Of,Df,Bf,at,Mf=p(()=>{s();l();Na();hn();Sn();Oa();Pn="insert",Nn="update",$a="delete",Tf="reverse",Cf="shuffle",ne=Symbol.for("object-observer-meta-key-0"),Kh={async:1},qh=e=>{if(!e||typeof e!="object")return null;var r={},t=[];for(var[o,n]of Object.entries(e))if(o==="path"){if(typeof n!="string"||n==="")throw new Error('"path" option, if/when provided, MUST be a non-empty string');r[o]=n}else if(o==="pathsOf"){if(e.path)throw new Error('"pathsOf" option MAY NOT be specified together with "path" option');if(typeof n!="string")throw new Error('"pathsOf" option, if/when provided, MUST be a string (MAY be empty)');r[o]=e.pathsOf.split(".").filter(Boolean)}else if(o==="pathsFrom"){if(e.path||e.pathsOf)throw new Error('"pathsFrom" option MAY NOT be specified together with "path"/"pathsOf" option/s');if(typeof n!="string"||n==="")throw new Error('"pathsFrom" option, if/when provided, MUST be a non-empty string');r[o]=n}else t.push(o);if(t.length)throw new Error(`'${t.join(", ")}' is/are not a valid observer option/s`);return r},Xh=(e,r,t)=>{var o={};o[ne]=r;for(var n in e)o[n]=Ut(e[n],n,r,t);return o},Jh=(e,r,t)=>{var o=e.length,n=new Array(o);n[ne]=r;for(var i=0;i<o;i++)n[i]=Ut(e[i],i,r,t);return n},Zh=(e,r)=>(e[ne]=r,e),Qh=(e,r)=>{if(e===null)return r;var t=r;if(e.path){var o=e.path;t=r.filter(c=>c.path.join(".")===o)}else if(e.pathsOf){var n=e.pathsOf,i=n.join(".");t=r.filter(c=>(c.path.length===n.length+1||c.path.length===n.length&&(c.type===Tf||c.type===Cf))&&c.path.join(".").startsWith(i))}else if(e.pathsFrom){var u=e.pathsFrom;t=r.filter(c=>c.path.join(".").startsWith(u))}return t},Rf=(e,r)=>{try{e(r)}catch(t){console.error(`failed to notify listener ${e} with ${r}`,t)}},eg=function(){var r=this.batches;this.batches=[];for(var[t,o]of r)Rf(t,o)},gr=(e,r)=>{var t=e,o,n,i,u,c,f,b=r.length;do{for(o=t.options.async,n=t.observers,f=n.length;f--;)if([i,u]=n[f],c=Qh(u,r),c.length)if(o){t.batches.length===0&&queueMicrotask(eg.bind(t));var g=void 0;for(var E of t.batches)if(E[0]===i){g=E;break}g||(g=[i,[]],t.batches.push(g)),Array.prototype.push.apply(g[1],c)}else Rf(i,c);var C=t.parent;if(C){for(var I=0;I<b;I++){var q=r[I];r[I]=new De(q.type,[t.ownKey,...q.path],q.value,q.oldValue,q.object)}t=C}else t=null}while(t)},Ut=(e,r,t,o)=>o!==void 0&&o.has(e)?null:typeof e!="object"||e===null?e:Array.isArray(e)?new Df({target:e,ownKey:r,parent:t,visited:o}).proxy:ArrayBuffer.isView(e)?new Bf({target:e,ownKey:r,parent:t}).proxy:e instanceof Date?e:new Of({target:e,ownKey:r,parent:t,visited:o}).proxy,rg=function(){var r=this[ne],t=r.target,o=t.length-1,n=t.pop();if(n&&typeof n=="object"){var i=n[ne];i&&(n=i.detach())}var u=[new De($a,[o],void 0,n,this)];return gr(r,u),n},tg=function(){for(var r=this[ne],t=r.target,o=arguments.length,n=new Array(o),i=t.length,u=0;u<o;u++)n[u]=Ut(arguments[u],i+u,r);for(var c=Reflect.apply(t.push,t,n),f=[],b=i,g=t.length;b<g;b++)f[b-i]=new De(Pn,[b],t[b],void 0,this);return gr(r,f),c},og=function(){var r=this[ne],t=r.target,o,n,i,u,c;for(o=t.shift(),o&&typeof o=="object"&&(c=o[ne],c&&(o=c.detach())),n=0,i=t.length;n<i;n++)u=t[n],u&&typeof u=="object"&&(c=u[ne],c&&(c.ownKey=n));var f=[new De($a,[0],void 0,o,this)];return gr(r,f),o},ng=function(){for(var r=this[ne],t=r.target,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=Ut(arguments[i],i,r);for(var u=Reflect.apply(t.unshift,t,n),c=0,f=t.length,b;c<f;c++)if(b=t[c],b&&typeof b=="object"){var g=b[ne];g&&(g.ownKey=c)}for(var E=n.length,C=new Array(E),I=0;I<E;I++)C[I]=new De(Pn,[I],t[I],void 0,this);return gr(r,C),u},If=function(){var r=this[ne],t=r.target,o,n,i;for(t.reverse(),o=0,n=t.length;o<n;o++)if(i=t[o],i&&typeof i=="object"){var u=i[ne];u&&(u.ownKey=o)}var c=[new De(Tf,[],void 0,void 0,this)];return gr(r,c),this},Pf=function(r){var t=this[ne],o=t.target,n,i,u;for(o.sort(r),n=0,i=o.length;n<i;n++)if(u=o[n],u&&typeof u=="object"){var c=u[ne];c&&(c.ownKey=n)}var f=[new De(Cf,[],void 0,void 0,this)];return gr(t,f),this},Nf=function(r,t,o){var n=this[ne],i=n.target,u=[],c=i.length,f=i.slice(0);if(t=t===void 0?0:t<0?Math.max(c+t,0):Math.min(t,c),o=o===void 0?c:o<0?Math.max(c+o,0):Math.min(o,c),t<c&&o>t){i.fill(r,t,o);for(var b,g=t,E,C;g<o;g++)E=i[g],i[g]=Ut(E,g,n),g in f?(C=f[g],C&&typeof C=="object"&&(b=C[ne],b&&(C=b.detach())),u.push(new De(Nn,[g],i[g],C,this))):u.push(new De(Pn,[g],i[g],void 0,this));gr(n,u)}return this},Lf=function(r,t,o){var n=this[ne],i=n.target,u=i.length;r=r<0?Math.max(u+r,0):r,t=t===void 0?0:t<0?Math.max(u+t,0):Math.min(t,u),o=o===void 0?u:o<0?Math.max(u+o,0):Math.min(o,u);var c=Math.min(o-t,u-r);if(r<u&&r!==t&&c>0){var f=i.slice(0),b=[];i.copyWithin(r,t,o);for(var g=r,E,C,I;g<r+c;g++)E=i[g],E&&typeof E=="object"&&(E=Ut(E,g,n),i[g]=E),C=f[g],C&&typeof C=="object"&&(I=C[ne],I&&(C=I.detach())),!(typeof E!="object"&&E===C)&&b.push(new De(Nn,[g],E,C,this));gr(n,b)}return this},ag=function(){for(var r=this[ne],t=r.target,o=arguments.length,n=new Array(o),i=t.length,u=0;u<o;u++)n[u]=Ut(arguments[u],u,r);for(var c=o===0?0:n[0]<0?i+n[0]:n[0],f=o<2?i-c:n[1],b=Math.max(o-2,0),g=Reflect.apply(t.splice,t,n),E=t.length,C,I=0,q;I<E;I++)q=t[I],q&&typeof q=="object"&&(C=q[ne],C&&(C.ownKey=I));var de,cr,Vr;for(de=0,cr=g.length;de<cr;de++)Vr=g[de],Vr&&typeof Vr=="object"&&(C=Vr[ne],C&&(g[de]=C.detach()));var At=[],Ve;for(Ve=0;Ve<f;Ve++)Ve<b?At.push(new De(Nn,[c+Ve],t[c+Ve],g[Ve],this)):At.push(new De($a,[c+Ve],void 0,g[Ve],this));for(;Ve<b;Ve++)At.push(new De(Pn,[c+Ve],t[c+Ve],void 0,this));return gr(r,At),g},ig=function(r,t){var o=this[ne],n=o.target,i=r.length,u=n.slice(0);t=t||0,n.set(r,t);for(var c=new Array(i),f=t;f<i+t;f++)c[f-t]=new De(Nn,[f],n[f],u[f],this);gr(o,c)},sg={pop:rg,push:tg,shift:og,unshift:ng,reverse:If,sort:Pf,fill:Nf,copyWithin:Lf,splice:ag},lg={reverse:If,sort:Pf,fill:Nf,copyWithin:Lf,set:ig},De=function e(r,t,o,n,i){"use strict";nr(this,e),this.type=r,this.path=t,this.value=o,this.oldValue=n,this.object=i},Os=function(){"use strict";function e(r,t){nr(this,e);var{target:o,parent:n,ownKey:i,visited:u=new Set}=r;n&&i!==void 0?(this.parent=n,this.ownKey=i):(this.parent=null,this.ownKey=null),u.add(o);var c=t(o,this,u);u.delete(o),this.observers=[],this.revocable=Proxy.revocable(c,this),this.proxy=this.revocable.proxy,this.target=c,this.options=this.processOptions(r.options),this.options.async&&(this.batches=[])}return Tr(e,[{key:"processOptions",value:function(t){if(t){if(typeof t!="object")throw new Error(`Observable options if/when provided, MAY only be an object, got '${t}'`);var o=Object.keys(t).filter(n=>!(n in Kh));if(o.length)throw new Error(`'${o.join(", ")}' is/are not a valid Observable option/s`);return Object.assign({},t)}else return{}}},{key:"detach",value:function(){return this.parent=null,this.target}},{key:"set",value:function(t,o,n){var i=t[o];if(n!==i){var u=Ut(n,o,this);if(t[o]=u,i&&typeof i=="object"){var c=i[ne];c&&(i=c.detach())}var f=i===void 0?[new De(Pn,[o],u,void 0,this.proxy)]:[new De(Nn,[o],u,i,this.proxy)];gr(this,f)}return!0}},{key:"deleteProperty",value:function(t,o){var n=t[o];if(delete t[o],n&&typeof n=="object"){var i=n[ne];i&&(n=i.detach())}var u=[new De($a,[o],void 0,n,this.proxy)];return gr(this,u),!0}}]),e}(),Of=function(e){"use strict";Rt(r,e);function r(t){return nr(this,r),Tt(this,r,[t,Xh])}return r}(Os),Df=function(e){"use strict";Rt(r,e);function r(t){return nr(this,r),Tt(this,r,[t,Jh])}return Tr(r,[{key:"get",value:function(o,n){return sg[n]||o[n]}}]),r}(Os),Bf=function(e){"use strict";Rt(r,e);function r(t){return nr(this,r),Tt(this,r,[t,Zh])}return Tr(r,[{key:"get",value:function(o,n){return lg[n]||o[n]}}]),r}(Os),at=Object.freeze({from:(e,r)=>{if(!e||typeof e!="object")throw new Error("observable MAY ONLY be created from a non-null object");if(e[ne])return e;if(Array.isArray(e))return new Df({target:e,ownKey:null,parent:null,options:r}).proxy;if(ArrayBuffer.isView(e))return new Bf({target:e,ownKey:null,parent:null,options:r}).proxy;if(e instanceof Date)throw new Error(`${e} found to be one of a non-observable types`);return new Of({target:e,ownKey:null,parent:null,options:r}).proxy},isObservable:e=>!!(e&&e[ne]),observe:(e,r,t)=>{if(!at.isObservable(e))throw new Error("invalid observable parameter");if(typeof r!="function")throw new Error(`observer MUST be a function, got '${r}'`);var o=e[ne].observers;o.some(n=>n[0]===r)?console.warn("observer may be bound to an observable only once; will NOT rebind"):o.push([r,qh(t)])},unobserve:(e,...r)=>{if(!at.isObservable(e))throw new Error("invalid observable parameter");var t=e[ne].observers,o=t.length;if(o){if(!r.length){t.splice(0);return}for(;o;)r.indexOf(t[--o][0])>=0&&t.splice(o,1)}}})});var Vs={};F(Vs,{awaitStorage:()=>ko,createStorage:()=>kt,createStorageAndCallback:()=>ks,createStorageAsync:()=>ug,getPreloadedStorage:()=>Hs,preloadStorageIfExists:()=>Ya,purgeStorage:()=>Wa,updateStorage:()=>Us,useObservable:()=>it});function js(e){var r=vn(t=>{wr(e,JSON.stringify(t))},500);return{get:x(function*(){try{return JSON.parse(yield co(e))}catch(t){throw new Error(`Failed to parse storage from '${e}'`,{cause:t})}}),set:function(){var t=x(function*(o){if(!o||typeof o!="object")throw new Error("data needs to be an object");r(o)});return function(o){return t.apply(this,arguments)}}(),exists:x(function*(){return yield tt(e)})}}function it(e,r){if(e.some(o=>o?.[Ff]))throw new Error("An error occured while initializing the storage");if(e.some(o=>!at.isObservable(o)))throw new Error("Argument passed isn't an Observable");var[,t]=React.useReducer(o=>~o,0);React.useEffect(()=>{var o=()=>t();return e.forEach(n=>at.observe(n,o,r)),()=>{e.forEach(n=>at.unobserve(n,o))}},[])}function Us(e,r){return Ds.apply(this,arguments)}function Ds(){return Ds=x(function*(e,r){Yr[e]=r,js(e).set(r)}),Ds.apply(this,arguments)}function ks(e,r,{dflt:t={},nullIfEmpty:o=!1}={}){var n,i=c=>{var f=new Proxy(at.from(c),{get(g,E,C){return E===Symbol.for("vendetta.storage.emitter")?n||(n=new Fa,at.observe(g,I=>{for(var q of I)n.emit(q.type!=="delete"?"SET":"DEL",{path:q.path,value:q.value})}),n):Reflect.get(g,E,C)}}),b=()=>u.set(f);at.observe(f,b),r(f)},u=js(e);Yr[e]?i(Yr[e]):u.exists().then(function(){var c=x(function*(f){f?i(Yr[e]=yield u.get()):o?i(Yr[e]=null):(Yr[e]=t,yield u.set(t),i(t))});return function(f){return c.apply(this,arguments)}}())}function ug(e){return Bs.apply(this,arguments)}function Bs(){return Bs=x(function*(e,r={}){return new Promise(t=>ks(e,t,r))}),Bs.apply(this,arguments)}function Ya(e){return Ms.apply(this,arguments)}function Ms(){return Ms=x(function*(e){if(Yr[e])return!0;var r=js(e);return(yield r.exists())?(Yr[e]=yield r.get(),!0):!1}),Ms.apply(this,arguments)}function Wa(e){return Fs.apply(this,arguments)}function Fs(){return Fs=x(function*(e){yield uo(e),delete Yr[e]}),Fs.apply(this,arguments)}function ko(...e){return Promise.all(e.map(r=>r[jf]))}function Hs(e){return Yr[e]}var Ff,jf,Yr,kt,Wr=p(()=>{"use strict";s();l();pe();ps();Mf();ot();Bo();Ff=Symbol.for("bunny.storage.initError"),jf=Symbol.for("bunny.storage.promise"),Yr={};kt=(e,r={})=>{var t=new Promise(f=>u=f),o,n,i,u;ks(e,f=>{o=f,n=!0,u()},r);var c=()=>{if(n)return!0;throw new Error(`Attempted to access storage without initializing: ${e}`)};return new Proxy({},{...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(f=>[f,(b,...g)=>c()&&Reflect[f](o,...g)])),get(f,b,g){return b===Ff?i:b===jf?t:c()&&Reflect.get(o??f,b,g)}})}});var Ks={};F(Ks,{BUNNY_PROXY_PREFIX:()=>go,DISCORD_SERVER:()=>zs,GITHUB:()=>Gs,HTTP_REGEX:()=>cg,HTTP_REGEX_MULTI:()=>$s,OFFICIAL_PLUGINS_REPO_URL:()=>Ln,VD_DISCORD_SERVER_ID:()=>Ys,VD_PLUGINS_CHANNEL_ID:()=>Ws,VD_PROXY_PREFIX:()=>Ir,VD_THEMES_CHANNEL_ID:()=>On});var zs,Gs,cg,$s,go,Ln,Ir,Ys,Ws,On,Ht=p(()=>{"use strict";s();l();zs="https://discord.com/invite/ddcQf3s2Uq",Gs="https://github.com/revenge-mod",cg=/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&/=]*)$/,$s=/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&//=]*)/g,go="https://bn-plugins.github.io/vd-proxy",Ln="https://bn-plugins.github.io/dist/repo.json",Ir="https://vd-plugins.github.io/proxy",Ys="1015931589865246730",Ws="1091880384561684561",On="1091880434939482202"});function Ka(e,r=0){for(var t=3735928559^r,o=1103547991^r,n=0,i;n<e.length;n++)i=e.charCodeAt(n),t=Math.imul(t^i,2654435761),o=Math.imul(o^i,1597334677);return t=Math.imul(t^t>>>16,2246822507),t^=Math.imul(o^o>>>13,3266489909),o=Math.imul(o^o>>>16,2246822507),o^=Math.imul(t^t>>>13,3266489909),[o>>>0,t>>>0]}function Uf(e,r=0){var[t,o]=Ka(e,r);return t.toString(36).padStart(7,"0")+o.toString(36).padStart(7,"0")}var qs=p(()=>{"use strict";s();l()});function st(e,r){return lt(e,r,{walkable:["props","children","child","sibling"]})}var kf=p(()=>{"use strict";s();l();vr()});function Xs(e,r,t,o){if(!(o>t.maxDepth)&&e){try{if(r(e))return e}catch{}if(Array.isArray(e)){for(var n of e)if(!(typeof n!="object"||n===null))try{var i=Xs(n,r,t,o+1);if(i)return i}catch{}}else if(typeof e=="object"){for(var u of Object.keys(e))if(!(typeof e[u]!="object"||e[u]===null)&&!(t.walkable.length&&!t.walkable.includes(u))&&!t.ignore.includes(u))try{var c=Xs(e[u],r,t,o+1);if(c)return c}catch{}}}}function lt(e,r,{walkable:t=[],ignore:o=[],maxDepth:n=100}={}){return Xs(e,r,{walkable:t,ignore:o,maxDepth:n},0)}var Hf=p(()=>{"use strict";s();l()});function Js(e,r,t){var o=e;if(r in e)return void t(o[r]);var n;return Object.defineProperty(o,r,{get:()=>n,set(i){n=t(i)??i},configurable:!0,enumerable:!1}),()=>{delete o[r],o[r]=n}}var Vf=p(()=>{"use strict";s();l()});function Zs(e,r){if(!e){var t=typeof r=="function"?r():r,o="[Invariant Violation]",n=t?`${o}: ${t}`:o;throw new Error(n)}}var zf=p(()=>{"use strict";s();l()});var Qs={};F(Qs,{LoggerClass:()=>Dn,logger:()=>ke});var Dn,ke,ut=p(()=>{"use strict";s();l();me();Dn=Ye("Logger"),ke=new Dn("Revenge")});function We(e,r){return el.apply(this,arguments)}function el(){return el=x(function*(e,r,t=1e4){var o=yield fetch(e,{signal:fg(t),...r});if(!o.ok)throw new Error(`Request returned non-ok: ${o.status} ${o.statusText}`);return o}),el.apply(this,arguments)}function fg(e){var r=new AbortController;return setTimeout(()=>r.abort(`Timed out after ${e}ms`),e),r.signal}var Gf=p(()=>{"use strict";s();l();pe()});var qa={};F(qa,{constants:()=>Ks,cyrb64:()=>Ka,findInReactTree:()=>st,findInTree:()=>lt,hookDefineProperty:()=>Js,invariant:()=>Zs,lazy:()=>_s,logger:()=>Qs,safeFetch:()=>We});var vr=p(()=>{"use strict";s();l();Ht();qs();kf();Hf();Vf();zf();ge();ut();Gf()});var rl={};F(rl,{Fragment:()=>ct,jsx:()=>a,jsxs:()=>_});function Yf(e){if(!e[0])throw new Error("The first argument (Component) is falsy. Ensure that you are passing a valid component.");var r=ys(e[0]);return r&&(e[0]=r()),e}var $f,ct,a,_,z=p(()=>{"use strict";s();l();ge();me();$f=N("jsx","jsxs","Fragment");ct=Symbol.for("react.fragment"),a=(...e)=>$f.jsx(...Yf(e)),_=(...e)=>$f.jsxs(...Yf(e))});var ir,Bn=p(()=>{"use strict";s();l();Wr();ir=kt("themes/colors/preferences.json",{dflt:{selected:null,customBackground:null}})});var Za={};F(Za,{ActionSheet:()=>Pr,ActionSheetRow:()=>Vt,AlertActionButton:()=>Ho,AlertActions:()=>cl,AlertModal:()=>Un,Avatar:()=>dl,AvatarPile:()=>fl,BottomSheetTitleHeader:()=>kn,Button:()=>Y,Card:()=>ye,CompatButton:()=>tl,CompatSegmentedControl:()=>wg,ContextMenu:()=>ml,FlashList:()=>Vn,FloatingActionButton:()=>pl,FormCheckbox:()=>yg,FormRadio:()=>ul,FormSwitch:()=>ll,Forms:()=>Ja,HelpMessage:()=>Fn,IconButton:()=>ve,LegacyAlert:()=>Mn,LegacyForm:()=>Tg,LegacyFormArrow:()=>Cg,LegacyFormCTA:()=>Rg,LegacyFormCTAButton:()=>Ig,LegacyFormCardSection:()=>Pg,LegacyFormCheckbox:()=>Ng,LegacyFormCheckboxRow:()=>Lg,LegacyFormCheckmark:()=>Og,LegacyFormDivider:()=>Dg,LegacyFormHint:()=>Bg,LegacyFormIcon:()=>Mg,LegacyFormInput:()=>hl,LegacyFormLabel:()=>Fg,LegacyFormRadio:()=>jg,LegacyFormRadioGroup:()=>Ug,LegacyFormRadioRow:()=>kg,LegacyFormRow:()=>Hn,LegacyFormSection:()=>Hg,LegacyFormSelect:()=>Vg,LegacyFormSliderRow:()=>zg,LegacyFormSubLabel:()=>Gg,LegacyFormSwitch:()=>$g,LegacyFormSwitchRow:()=>Yg,LegacyFormTernaryCheckBox:()=>Wg,LegacyFormText:()=>gl,LegacyFormTitle:()=>Kg,PressableScale:()=>pg,RedesignCompat:()=>_g,RowButton:()=>dg,SafeAreaProvider:()=>ol,SafeAreaView:()=>jn,SegmentedControl:()=>Sg,SegmentedControlPages:()=>bg,Stack:()=>se,TableCheckbox:()=>vg,TableCheckboxRow:()=>hg,TableRadio:()=>gg,TableRadioGroup:()=>Xa,TableRadioRow:()=>yo,TableRow:()=>T,TableRowGroup:()=>Be,TableRowIcon:()=>vo,TableRowTrailingText:()=>il,TableSwitch:()=>sl,TableSwitchRow:()=>ft,Text:()=>R,TextArea:()=>xg,TextInput:()=>He,TwinButtons:()=>al,useSafeAreaInsets:()=>nl,useSegmentedControlState:()=>Eg});var mg,yr,ce,Mn,tl,Fn,jn,ol,nl,Vt,Y,al,ve,dg,pg,T,vo,il,Be,Xa,yo,ft,hg,sl,gg,vg,ll,ul,yg,ye,_g,Un,Ho,cl,fl,ml,se,dl,He,xg,Sg,bg,Eg,wg,pl,Pr,kn,Ag,R,Ja,Tg,Cg,Rg,Ig,Pg,Ng,Lg,Og,Dg,Bg,Mg,hl,Fg,jg,Ug,kg,Hn,Hg,Vg,zg,Gg,$g,Yg,Wg,gl,Kg,Vn,ee=p(()=>{"use strict";s();l();ge();ja();Fo();me();mg=pr(([e],r)=>r[e]&&Object.keys(r).length===1,e=>`bunny.metro.common.components.bySingularProp(${e})`),yr=e=>Re(()=>Oe(mg(e))?.[e]),ce=(...e)=>Re(()=>L(...e)[e[0]]),Mn=As("FluxContainer(Alert)"),tl=N("Looks","Colors","Sizes"),Fn=Ye("HelpMessage"),{SafeAreaView:jn,SafeAreaProvider:ol,useSafeAreaInsets:nl}=H(()=>L("useSafeAreaInsets")),Vt=ce("ActionSheetRow"),Y=yr("Button"),al=ce("TwinButtons"),ve=yr("IconButton"),dg=ce("RowButton"),pg=ce("PressableScale"),T=ce("TableRow"),vo=ce("TableRowIcon"),il=ce("TableRowTrailingText"),Be=ce("TableRowGroup"),Xa=ce("TableRadioGroup"),yo=ce("TableRadioRow"),ft=ce("TableSwitchRow"),hg=ce("TableCheckboxRow"),sl=yr("FormSwitch"),gg=yr("FormRadio"),vg=yr("FormCheckbox"),ll=yr("FormSwitch"),ul=yr("FormRadio"),yg=yr("FormCheckbox"),ye=ce("Card"),_g=Re(()=>L("RedesignCompat").RedesignCompat),Un=ce("AlertModal"),Ho=ce("AlertActionButton"),cl=ce("AlertActions"),fl=yr("AvatarPile"),ml=ce("ContextMenu"),se=ce("Stack"),dl=ce("default","AvatarSizes","getStatusSize"),He=yr("TextInput"),xg=yr("TextArea"),Sg=ce("SegmentedControl"),bg=ce("SegmentedControlPages"),Eg=yr("useSegmentedControlState"),wg=ce("CompatSegmentedControl"),pl=ce("FloatingActionButton"),Pr=ce("ActionSheet"),kn=ce("BottomSheetTitleHeader"),Ag=N("Text","LegacyText"),R=Re(()=>Ag.Text),Ja=N("Form","FormSection"),{Form:Tg,FormArrow:Cg,FormCTA:Rg,FormCTAButton:Ig,FormCardSection:Pg,FormCheckbox:Ng,FormCheckboxRow:Lg,FormCheckmark:Og,FormDivider:Dg,FormHint:Bg,FormIcon:Mg,FormInput:hl,FormLabel:Fg,FormRadio:jg,FormRadioGroup:Ug,FormRadioRow:kg,FormRow:Hn,FormSection:Hg,FormSelect:Vg,FormSliderRow:zg,FormSubLabel:Gg,FormSwitch:$g,FormSwitchRow:Yg,FormTernaryCheckBox:Wg,FormText:gl,FormTitle:Kg}=H(()=>Ja),Vn=ce("FlashList")});var ei={};F(ei,{Flux:()=>bl,FluxDispatcher:()=>Lr,FluxUtils:()=>El,NavigationNative:()=>_e,React:()=>$n,ReactNative:()=>Qa,assets:()=>yl,channels:()=>zn,clipboard:()=>Me,commands:()=>_o,components:()=>Za,constants:()=>Nr,i18n:()=>vl,invites:()=>_l,messageUtil:()=>_r,navigation:()=>xl,navigationStack:()=>Sl,semver:()=>Vo,toasts:()=>Gn,tokens:()=>Kr,url:()=>zt,useToken:()=>qg});var Nr,zn,vl,zt,Me,yl,_l,_o,xl,Gn,_r,Sl,_e,Vo,Kr,qg,bl,Lr,El,$n,Qa,G=p(()=>{"use strict";s();l();ge();me();ee();Nr=N("Fonts","Permissions"),zn=N("getVoiceChannelId"),vl=N("Messages"),zt=N("openURL","openDeeplink"),Me=N("setString","getString","hasString"),yl=N("registerAsset"),_l=N("acceptInviteAndTransitionToInviteChannel"),_o=N("getBuiltInCommands"),xl=N("pushLazy"),Gn=Rn("modules/toast/native/ToastActionCreators.tsx",!0),_r=N("sendBotMessage"),Sl=N("createStackNavigator"),_e=N("NavigationContainer"),Vo=N("parse","clean"),Kr=N("unsafe_rawColors","colors"),{useToken:qg}=H(()=>L("useToken")),bl=N("connectStores"),Lr=L("_interceptors"),El=L("useStateFromStores"),$n=window.React=N("createElement"),Qa=window.ReactNative=N("AppRegistry")});var ri={};F(ri,{common:()=>ei,factories:()=>En,filters:()=>hs,findAllExports:()=>Mt,findAllModule:()=>vs,findAllModuleId:()=>Hh,findByDisplayName:()=>ws,findByDisplayNameAll:()=>Ts,findByDisplayNameLazy:()=>As,findByFilePath:()=>Ps,findByFilePathLazy:()=>Rn,findByName:()=>Uo,findByNameAll:()=>Es,findByNameLazy:()=>Ye,findByProps:()=>L,findByPropsAll:()=>bs,findByPropsLazy:()=>N,findByStoreName:()=>Is,findByStoreNameLazy:()=>po,findByTypeName:()=>Cs,findByTypeNameAll:()=>Rs,findByTypeNameLazy:()=>Yh,findExports:()=>Oe,findModule:()=>gs,findModuleId:()=>kh,lazy:()=>xs});var Fe=p(()=>{"use strict";s();l();G();ja();Tn();Fo();Cn();me()});var zo=zr((Fb,Wf)=>{s();l();Wf.exports=Ft()["chroma-js"]});function qf(e){var r=(cr="dark")=>(ir.type??cr)==="dark"?"darker":"light";if(e.spec===3){var t={};for(var[o,n]of Object.entries(e.main.semantic??{}))if(typeof n=="object"){var{type:i,value:u,opacity:c}=n;if(i==="raw")t[o]={value:u,opacity:c??1};else{var f=Kf.RawColor[u];t[o]={value:f,opacity:c??1}}}else if(typeof n=="string")n.startsWith("#")?t[o]={value:Go.default.hex(n).hex(),opacity:1}:t[o]={value:Kf.RawColor[n],opacity:1};else throw new Error(`Invalid semantic definitions: ${n}`);return Yn.Platform.OS==="android"&&ti(e.main.raw),{spec:3,reference:r(e.type),semantic:t,raw:e.main.raw??{},background:e.main.background}}if(e.spec===2){var b={},g=e.background?{...yn(e.background,["alpha"]),opacity:e.background.alpha}:void 0;if(e.semanticColors)for(var E in e.semanticColors){var C=e.semanticColors[E].map(cr=>cr||void 0).slice(0,2);C[0]&&(b[E]={value:Wn(C[r()==="light"?1:0]),opacity:1})}if(e.rawColors){var I={};for(var q in e.rawColors){var de=e.rawColors[q];de&&(I[q]=Wn(de))}Yn.Platform.OS==="android"&&ti(I),e.rawColors=I}return{spec:2,reference:r(),semantic:b,raw:e.rawColors??{},background:g}}throw new Error("Invalid theme spec")}function ti(e){if(e){var r={BLACK_ALPHA_60:["BLACK",.6],BRAND_NEW_360_ALPHA_20:["BRAND_360",.2],BRAND_NEW_360_ALPHA_25:["BRAND_360",.25],BRAND_NEW_500_ALPHA_20:["BRAND_500",.2],PRIMARY_DARK_500_ALPHA_20:["PRIMARY_500",.2],PRIMARY_DARK_700_ALPHA_60:["PRIMARY_700",.6],STATUS_GREEN_500_ALPHA_20:["GREEN_500",.2],STATUS_RED_500_ALPHA_20:["RED_500",.2]};for(var t in r){var[o,n]=r[t];e[o]&&(e[t]=(0,Go.default)(e[o]).alpha(n).hex())}return e}}function Wn(e){if(e!==void 0){if(Go.default.valid(e))return(0,Go.default)(e).hex();var r=Number((0,Yn.processColor)(e));return Go.default.rgb(r>>16&255,r>>8&255,r&255,r>>24&255).hex()}}var Go,Yn,Kf,wl=p(()=>{"use strict";s();l();Fe();Go=U(zo());Bo();Yn=U(K());Bn();Kf=L("SemanticColor")});function $t(e,{update:r=!0}){if(!D.safeMode?.enabled){var t=e?qf(e):null,o=Object.assign(re,{current:t,key:`bn-theme-${++Qf}`,lastSetDiscordTheme:Jf.theme.startsWith("bn-theme-")?re.lastSetDiscordTheme:Jf.theme});t!=null&&(Gt.Theme[o.key.toUpperCase()]=o.key,Zf.DIVIDER_COLORS[o.key]=Zf.DIVIDER_COLORS[o.current.reference],Object.keys(Gt.Shadow).forEach(n=>Gt.Shadow[n][o.key]=Gt.Shadow[n][o.current.reference]),Object.keys(Gt.SemanticColor).forEach(n=>{Gt.SemanticColor[n][o.key]={...Gt.SemanticColor[n][o.current.reference]}})),r&&(Xf.setShouldSyncAppearanceSettings(!1),Xf.updateTheme(t!=null?o.key:o.lastSetDiscordTheme))}}var Gt,Xg,Xf,Jf,Zf,Qf,re,xo=p(()=>{"use strict";s();l();Ee();Fe();wl();Gt=L("SemanticColor"),Xg={...Gt.RawColor},Xf=N("updateTheme"),Jf=po("ThemeStore"),Zf=N("DIVIDER_COLORS"),Qf=1,re={current:null,key:`bn-theme-${Qf}`,origRaw:Xg,lastSetDiscordTheme:"darker"}});function Zg({children:e}){return it([ir]),!re.current||ir.customBackground==="hidden"||!re.current.background?.url||re.current.background?.blur&&typeof re.current.background?.blur!="number"?e:a(Kn.ImageBackground,{style:{flex:1,height:"100%"},source:{uri:re.current.background?.url},blurRadius:re.current.background?.blur,children:e})}function Al(){var e=[ie("render",Jg,(r,t)=>{if(!(!re.current||!re.current.background?.url)){var o=st(t,u=>u&&"HACK_fixModalInteraction"in u.props&&u?.props?.style);if(o){var n=Kn.StyleSheet.flatten(o.props.style),i=(0,em.default)(n.backgroundColor||"black").alpha(1-(re.current.background?.opacity??1)).hex();o.props.style=Kn.StyleSheet.flatten([o.props.style,{backgroundColor:i}])}return a(Zg,{children:t})}})];return()=>e.forEach(r=>r())}var em,Kn,Jg,rm=p(()=>{"use strict";s();l();z();Bn();xo();Le();Wr();vr();Fe();em=U(zo()),Kn=U(K()),Jg=Rn("components_native/chat/Messages.tsx",!0)});function Cl(){var e=([t])=>t===re.key?[re.current.reference]:void 0;Object.keys($o.RawColor).forEach(t=>{Object.defineProperty($o.RawColor,t,{configurable:!0,enumerable:!0,get:()=>{var o=re.current?.raw[t];return o||re.origRaw[t]}})});var r=[It("isThemeDark",tm,e),It("isThemeLight",tm,e),It("updateTheme",Xi,e),Pt("resolveSemanticColor",$o.default.meta??$o.default.internal,(t,o)=>{if(!re.current)return o(...t);if(t[0]!==re.key)return o(...t);t[0]=re.current.reference;var[n,i]=nm(re.current.reference,t[1]),u=re.current.semantic[n];if(!u&&re.current.spec===2&&n in om&&(u=re.current.semantic[om[n]]),u?.value)return u.opacity===1?u.value:(0,Tl.default)(u.value).alpha(u.opacity).hex();var c=re.current.raw[i.raw];return c?i.opacity===1?c:(0,Tl.default)(c).alpha(i.opacity).hex():o(...t)}),()=>{Object.defineProperty($o,"RawColor",{configurable:!0,writable:!0,value:re.origRaw})}];return()=>r.forEach(t=>t())}function nm(e,r){var t=r[nm._sym??=Object.getOwnPropertySymbols(r)[0]],o=$o.SemanticColor[t];return[t,o[e]]}var Tl,$o,tm,om,am=p(()=>{"use strict";s();l();xo();Er();Le();Fe();Tn();Cn();Tl=U(zo()),$o=L("SemanticColor"),tm=$r(An("isThemeDark")),om={BG_BACKDROP:"BACKGROUND_FLOATING",BG_BASE_PRIMARY:"BACKGROUND_PRIMARY",BG_BASE_SECONDARY:"BACKGROUND_SECONDARY",BG_BASE_TERTIARY:"BACKGROUND_SECONDARY_ALT",BG_MOD_FAINT:"BACKGROUND_MODIFIER_ACCENT",BG_MOD_STRONG:"BACKGROUND_MODIFIER_ACCENT",BG_MOD_SUBTLE:"BACKGROUND_MODIFIER_ACCENT",BG_SURFACE_OVERLAY:"BACKGROUND_FLOATING",BG_SURFACE_OVERLAY_TMP:"BACKGROUND_FLOATING",BG_SURFACE_RAISED:"BACKGROUND_MOBILE_PRIMARY"}});function Rl(){var e=new Set(["ThemeStore","SelectivelySyncedUserSettingsStore"]),r=[ie("get",im,([t],o)=>{if(!(!re.current||!e.has(t))){var n=lt(o._state,i=>typeof i.theme=="string");n&&(n.theme=re.key)}}),It("set",im,([t,o])=>{if(e.has(t)){var n=JSON.stringify(o),i=re.lastSetDiscordTheme??"darker",u=n.replace(/"theme":"bn-theme-\d+"/,`"theme":${JSON.stringify(i)}`);return[t,JSON.parse(u)]}})];return()=>r.forEach(t=>t())}var im,sm=p(()=>{"use strict";s();l();xo();Le();vr();ge();Fe();im=Re(()=>{var e=L("impl");return typeof e?.impl=="object"?e.impl:L("storage")})});function Il(e){var r=[Rl(),Cl(),Al()];return e&&$t(e,{update:!1}),()=>r.forEach(t=>t())}var lm=p(()=>{"use strict";s();l();rm();am();sm();xo()});var Eo={};F(Eo,{fetchTheme:()=>So,getCurrentTheme:()=>pt,getThemeFromLoader:()=>Yt,initThemes:()=>Ml,installTheme:()=>mt,removeTheme:()=>bo,selectTheme:()=>dt,themes:()=>fe,updateThemes:()=>oi,writeThemeToNative:()=>Yo});function Yo(e){return Pl.apply(this,arguments)}function Pl(){return Pl=x(function*(e){if(typeof e!="object")throw new Error("Theme must be an object");yield ho(cm()||"theme.json").set(e)}),Pl.apply(this,arguments)}function Qg(e){if(e.semanticColors){var{semanticColors:r}=e;for(var t in r)for(var o in r[t])r[t][o]&&=Wn(r[t][o])||!1}if(e.rawColors){var{rawColors:n}=e;for(var i in n){var u=Wn(n[i]);u&&(e.rawColors[i]=u)}um.Platform.OS==="android"&&ti(n)}return e.spec??=2,e}function ev(e){return!(typeof e!="object"||e===null||e.spec!==2&&e.spec!==3||e.spec===3&&!e.main)}function So(e){return Nl.apply(this,arguments)}function Nl(){return Nl=x(function*(e,r=!1){var t;try{t=yield(yield We(e,{cache:"no-store"})).json()}catch{throw new Error(`Failed to fetch theme at ${e}`)}if(!ev(t))throw new Error(`Invalid theme at ${e}`);fe[e]={id:e,selected:r,data:Qg(t)},r&&(Yo(fe[e]),$t(fe[e].data,{update:!0}))}),Nl.apply(this,arguments)}function mt(e){return Ll.apply(this,arguments)}function Ll(){return Ll=x(function*(e){if(typeof e!="string"||e in fe)throw new Error("Theme already installed");yield So(e)}),Ll.apply(this,arguments)}function dt(e,r=!0){if(e&&(e.selected=!0),Object.keys(fe).forEach(t=>fe[t].selected=fe[t].id===e?.id),e==null&&r)return $t(null,{update:!0}),Yo({});if(e)return $t(e.data,{update:!0}),Yo(e)}function bo(e){return Ol.apply(this,arguments)}function Ol(){return Ol=x(function*(e){var r=fe[e];return r.selected&&(yield dt(null)),delete fe[e],r.selected}),Ol.apply(this,arguments)}function oi(){return Dl.apply(this,arguments)}function Dl(){return Dl=x(function*(){yield jt(fe);var e=Yt();yield m(Object.keys(fe).map(r=>So(r,e?.id===r)))}),Dl.apply(this,arguments)}function pt(){return Object.values(fe).find(e=>e.selected)??null}function Yt(){return ni()}function Ml(){return Bl.apply(this,arguments)}function Bl(){return Bl=x(function*(){if(Or())try{Ie()&&wr("../vendetta_theme.json","null"),yield ko(ir);var e=Yt();Il(e?.data??null),oi().catch(r=>console.error("Failed to update themes",r))}catch(r){console.error("Failed to initialize themes",r)}}),Bl.apply(this,arguments)}var um,fe,sr=p(()=>{"use strict";s();l();pe();be();ot();ht();Wr();vr();um=U(K());lm();wl();Bn();xo();fe=Cr(ar(Rr("VENDETTA_THEMES")))});function Xe(){return qr!=null}function Ie(){return gt!=null}function rv(){if(!Ie()||Xe())return null;var e={name:gt.loaderName,features:{}};return Ul()&&(e.features.loaderConfig=!0),pm()&&(e.features.syscolors={prop:"__vendetta_syscolors"},Object.defineProperty(globalThis,"__vendetta_syscolors",{get:()=>tv(),configurable:!0})),Or()&&(e.features.themes={prop:"__vendetta_theme"},Object.defineProperty(globalThis,"__vendetta_theme",{get:()=>{var r=ni()?.id;if(!r)return null;var{themes:t}=(sr(),Ge(Eo));return t[r]??ni()??null},configurable:!0})),Object.defineProperty(globalThis,"__vendetta_loader",{get:()=>e,configurable:!0}),e}function Fl(){return globalThis.__vendetta_loader?globalThis.__vendetta_loader:rv()}function jl(){return Ie()?gt.loaderName:Xe()?qr.name:"Unknown"}function fm(){return Ie()?gt.loaderVersion:null}function Ul(){return Ie()?!0:Xe()?qr.features.loaderConfig:!1}function Or(){return Ie()?gt.hasThemeSupport:Xe()?qr.features.themes!=null:!1}function ni(){if(Ie())return gt.storedTheme;if(Xe()){var e=qr.features.themes?.prop;return e&&globalThis[e]||null}return null}function cm(){return Ie()?"pyoncord/current-theme.json":Xe()?"vendetta_theme.json":null}function qn(){return Ie()?!!window.__reactDevTools:Xe()?qr.features.devtools!=null:!1}function mm(){return qn()?Ie()?(window.__pyoncord_rdt=window.__reactDevTools.exports,"__pyoncord_rdt"):Xe()?qr.features.devtools.prop:null:null}function dm(){return qn()?Ie()?window.__reactDevTools.version||null:Xe()?qr.features.devtools.version:null:null}function pm(){return Ie()?gt.isSysColorsSupported:Xe()?qr.features.syscolors!=null:!1}function tv(){return pm()?Ie()?gt.sysColors:Xe()?qr.features.syscolors.prop:null:null}function hm(){return Ie()?"pyoncord/loader.json":Xe()?"vendetta_loader.json":"loader.json"}function gm(){return Ie()?gt.fontPatch===2:!1}var gt,qr,ht=p(()=>{"use strict";s();l();ot();gt=globalThis.__PYON_LOADER__,qr=globalThis.__vendetta_loader;Fl()});var ai={};F(ai,{loaderConfig:()=>xr,settings:()=>D});var D,xr,Ee=p(()=>{"use strict";s();l();be();ht();D=Cr(ar(Rr("VENDETTA_SETTINGS"))),xr=Cr(ar(ho(hm(),{customLoadUrl:{enabled:!1,url:"http://localhost:4040/bunny.js"}})))});var zl={};F(zl,{default:()=>ov});var vm,_m,kl,Vl,Wo,Hl,vt,ym,Xn,ov,Gl=p(()=>{"use strict";s();l();Lt();vm=new Set(["AlertActionButton","AlertModal","AlertModalContainer","AvatarDuoPile","AvatarPile","BACKDROP_OPAQUE_MAX_OPACITY","Backdrop","Button","Card","ContextMenu","ContextMenuContainer","FauxHeader","FloatingActionButton","GhostInput","GuildIconPile","HeaderActionButton","HeaderButton","HeaderSubmittingIndicator","IconButton","Input","InputButton","InputContainer","LayerContext","LayerScope","Modal","ModalActionButton","ModalContent","ModalDisclaimer","ModalFloatingAction","ModalFloatingActionSpacer","ModalFooter","ModalScreen","ModalStepIndicator","NAV_BAR_HEIGHT","NAV_BAR_HEIGHT_MULTILINE","Navigator","NavigatorHeader","NavigatorScreen","Pile","PileOverflow","RedesignCompat","RedesignCompatContext","RowButton","STATUS_BAR_HEIGHT","SceneLoadingIndicator","SearchField","SegmentedControl","SegmentedControlPages","Slider","Stack","StepModal","StickyContext","StickyHeader","StickyWrapper","TABLE_ROW_CONTENT_HEIGHT","TABLE_ROW_HEIGHT","TableCheckboxRow","TableRadioGroup","TableRadioRow","TableRow","TableRowGroup","TableRowGroupTitle","TableRowIcon","TableSwitchRow","Tabs","TextArea","TextField","TextInput","Toast","dismissAlerts","getHeaderBackButton","getHeaderCloseButton","getHeaderConditionalBackButton","getHeaderNoTitle","getHeaderTextButton","hideContextMenu","navigatorShouldCrossfade","openAlert","useAccessibilityNativeStackOptions","useAndroidNavScrim","useCoachmark","useFloatingActionButtonScroll","useFloatingActionButtonState","useNativeStackNavigation","useNavigation","useNavigationTheme","useNavigatorBackPressHandler","useNavigatorScreens","useNavigatorShouldCrossfade","useSegmentedControlState","useStackNavigation","useTabNavigation","useTooltip"]),_m={},kl={},Vl=$l("redesign_module");for([ym,Xn]of Vl.getModules())for(vt of vm){if(Wo=void 0,Xn[vt])Wo=Xn;else if(Xn.default?.[vt])Wo=Xn.default;else continue;Hl=Reflect.ownKeys(Wo).length,!(kl[vt]&&Hl>=kl[vt])&&(_m[vt]=Wo[vt],kl[vt]=Reflect.ownKeys(Wo).length,Vl.cacheId(ym),Hl===1&&vm.delete(vt))}Vl.finish();ov=_m});var Kl={};F(Kl,{getCachedPolyfillModules:()=>uv,getImportingModuleId:()=>cs,getModules:()=>Ha,metroModules:()=>Ue,requireModule:()=>hr,subscribeModule:()=>Ss});function si(e){Object.defineProperty(Ue,e,{enumerable:!1}),wm.add(e),Xl(Number(e))}function Jn(e){return!e||e===window||e["<!@ pylix was here :fuyusquish: !@>"]===null||e.__proto__===Object.prototype&&Reflect.ownKeys(e).length===0||e.default?.[Symbol.toStringTag]==="IntlMessagesProxy"}function lv(e,r){if(ql(r,e),e.initSentry&&=()=>{},e.default?.track&&e.default.trackMaker&&(e.default.track=()=>Promise.resolve()),e.registerAsset&&(us(),Ge(mf)).patchAssets(e),!bm&&["customBubblingEventTypes","customDirectEventTypes","register","get"].every(u=>e[u])&&(Wl("register",e,([u,c],f)=>{try{return f(u,c)}catch{return u}}),bm=!0),e?.default?.constructor?.displayName==="DeveloperExperimentStore"&&(e.default=new Proxy(e.default,{get(u,c,f){if(c==="isDeveloper"){var{settings:b}=(Ee(),Ge(ai));return b.enableDiscordDeveloperSettings??!1}return Reflect.get(u,c,f)}})),!Sm&&e.fileFinishedImporting&&(av("fileFinishedImporting",e,([u])=>{Ko===-1||!u||(Ue[Ko].__filePath=u)}),Sm=!0),!xm&&window["__core-js_shared__"]){var t=u=>typeof u=="function"&&sv.apply(u,[]);window["__core-js_shared__"].inspectSource=t,xm=!0}if(e.findHostInstance_DEPRECATED){var o=Ue[r-1]?.publicModule.exports,n=o.default?.reactProfilingEnabled?1:-1;Ue[r+n]?.isInitialized||si(r+n)}e.isMoment&&Wl("defineLocale",e,(u,c)=>{var f=e.locale();c(...u),e.locale(f)});var i=ii.get(Number(r));i&&(i.forEach(u=>u()),ii.delete(Number(r)))}function cs(){return Ko}function Ss(e,r){var t=ii.get(e)??new Set;return t.add(r),ii.set(e,t),()=>t.delete(r)}function hr(e){if(Ue[0]?.isInitialized||Yl(0),!wm.has(e)){if(Number(e)===-1)return Gl(),Ge(zl);if(Ue[e]?.isInitialized&&!Ue[e]?.hasError)return Yl(e);var r=ErrorUtils.getGlobalHandler();ErrorUtils.setGlobalHandler(iv);var t;try{t=Yl(e)}catch{si(e),t=void 0}return ErrorUtils.setGlobalHandler(r),t}}function*Ha(e,r=!1){yield[-1,(Gl(),Ge(zl))];var t=nt().findIndex[e];if(r&&!t?.[`_${Gr.FULL_LOOKUP}`]&&(t=void 0),!t?.[`_${Gr.NOT_FOUND}`]){for(var o in t)if(o[0]!=="_"){var n=hr(Number(o));Jn(n)||(yield[o,n])}for(var i in Ue){var u=hr(Number(i));Jn(u)||(yield[i,u])}}}function*uv(e){var r=nt().polyfillIndex[e];for(var t in r){var o=hr(Number(t));Jn(o)||(yield[t,o])}if(!r[`_${Gr.FULL_LOOKUP}`])for(var n in Ue){var i=hr(Number(n));Jn(i)||(yield[n,i])}}var nv,av,Wl,Ue,Yl,ii,wm,iv,sv,xm,Sm,bm,Ko,Em,Nt=p(()=>{"use strict";s();l();Lt();Ma();nv=function(e){var r=Number(e),t=Ue[r],o=nt().flagsIndex[r];if(o&Ar.BLACKLISTED)return si(r),"continue";t.factory&&Wl("factory",t,(n,i)=>{var u=Ko;Ko=r;var{1:c,4:f}=n;n[2]=b=>{var g=c(b);return g&&g.__esModule?g.default:g},n[3]=b=>{var g=c(b);if(g&&g.__esModule)return g;var E={};return g&&Object.assign(E,g),E.default=g,E},i(...n),Jn(f.exports)?si(r):lv(f.exports,r),Ko=u})},{before:av,instead:Wl}=Pa(),Ue=window.modules,Yl=e=>window.__r(+e),ii=new Map,wm=new Set,iv=()=>{},sv=Function.prototype.toString,xm=!1,Sm=!1,bm=!1,Ko=-1;for(Em in Ue)nv(Em)});var Rm={};F(Rm,{getCacherForUniq:()=>Va,getMetroCache:()=>nt,getPolyfillModuleCacher:()=>$l,indexAssetModuleFlag:()=>fs,indexBlacklistFlag:()=>Xl,indexExportsFlags:()=>ql,initMetroCache:()=>cv});function Am(){var e={_v:Tm,_buildNumber:so.Build,_modulesCount:Object.keys(window.modules).length,flagsIndex:{},findIndex:{},polyfillIndex:{}};return setTimeout(()=>{for(var r in window.modules)(Nt(),Ge(Kl)).requireModule(r)},100),Ke=e,e}function cv(){return Zl.apply(this,arguments)}function Zl(){return Zl=x(function*(){if(!(yield tt(Jl)))return void Am();var e=yield co(Jl);try{if(Ke=JSON.parse(e),Ke._v!==Tm)throw Ke=null,"cache invalidated; cache version outdated";if(Ke._buildNumber!==so.Build)throw Ke=null,"cache invalidated; version mismatch";if(Ke._modulesCount!==Object.keys(window.modules).length)throw Ke=null,"cache invalidated; modules count mismatch"}catch{Am()}}),Zl.apply(this,arguments)}function Cm(e){if(e){var r=Ar.EXISTS;return r}}function ql(e,r){var t=Cm(r);t&&t!==Ar.EXISTS&&(Ke.flagsIndex[e]=t)}function Xl(e){Ke.flagsIndex[e]|=Ar.BLACKLISTED}function fs(e){Ke.flagsIndex[e]|=Ar.ASSET}function Va(e,r){var t=Ke.findIndex[e]??={};return{cacheId(o,n){t[o]??=Cm(n),li()},finish(o){r&&(t[`_${Gr.FULL_LOOKUP}`]=1),o&&(t[`_${Gr.NOT_FOUND}`]=1),li()}}}function $l(e){var r=Ke.polyfillIndex[e]??={};return{getModules(){return(Nt(),Ge(Kl)).getCachedPolyfillModules(e)},cacheId(t){r[t]=1,li()},finish(){r[`_${Gr.FULL_LOOKUP}`]=1,li()}}}var Tm,Jl,Ke,nt,li,Lt=p(()=>{"use strict";s();l();pe();ot();Er();Bo();Ma();Tm=102,Jl="caches/metro_modules.json",Ke=null,nt=()=>Ke;li=vn(()=>{wr(Jl,JSON.stringify(Ke))},1e3)});function ui(e){return"componentStack"in e&&typeof e.componentStack=="string"}function ci(e){return!!e.stack}var Ql=p(()=>{"use strict";s();l()});var fi={};F(fi,{filterAssets:()=>fv,findAsset:()=>qo,findAssetId:()=>y,iterateAssets:()=>Wt});function*Wt(){var{flagsIndex:e}=nt(),r=new Set;for(var t in e)if(e[t]&Ar.ASSET){var o=hr(Number(t));if(typeof o!="number"||r.has(o))continue;yield Im(o),r.add(o)}}function Im(e){var r=Mo.getAssetByID(e);return r&&Object.assign(r,{id:e})}function qo(e){if(typeof e=="number")return Im(e);if(typeof e=="string"&&eu[e])return eu[e];for(var r of Wt()){if(typeof e=="string"&&r.name===e)return eu[e]=r,r;if(typeof e=="function"&&e(r))return r}}function fv(e){var r=[];for(var t of Wt())(typeof e=="string"?t.name===e:e(t))&&r.push(t);return r}function y(e){return qo(e)?.id}var eu,le=p(()=>{"use strict";s();l();Lt();Ma();Nt();us();eu={}});var Nm,Pm=p(()=>{Nm={ABOUT:"About\u{1F4A6}",ACTIONS:"Actions\u{1F4A6}",ARE_YOU_SURE_TO_CLEAR_DATA:"Are you sure you wish to clear the data of {name}?",ARE_YOU_SURE_TO_DELETE_PLUGIN:"Are you sure you wish to delete {name}? This will clear all of the plugin's data.",ARE_YOU_SURE_TO_DELETE_THEME:"Are you sure you wish to delete {name}?",ASSET_BROWSER:"Cum Browser",BRAND:"Cumrand",BUNNY:"CumCord\u{1F4A6}\u{1F4A6}",BUNNY_URL:"CumCord URL",BYTECODE:"Bytecode",CANCEL:"Cancel",CLEAR:"Clear",CLEAR_BUNDLE:"Clear CUM Bundle",CLEAR_BUNDLE_DESC:"Clear the cached bundle. This will force a re-download of the bundle next app launch.",CLEAR_DATA:"Clear data",CLEAR_DATA_FAILED:"Failed to clear data for {name}",CLEAR_DATA_SUCCESSFUL:"Cleared data for {name}",CODENAME:"Codename",COMMAND_DEBUG_DESC:"Send cumbug cumformation\u{1F4A6}",COMMAND_DEBUG_OPT_EPHEMERALLY:"Send the message ephemerally",COMMAND_EVAL_DESC:"Evaluate JavaScript code",COMMAND_EVAL_OPT_ASYNC:"Whether to support 'await' in code, must explicitly return for result (default: false)",COMMAND_EVAL_OPT_CODE:"The code to evaluate",COMMAND_PLUGINS_DESC:"Send list of installed plugins",COMMAND_PLUGINS_OPT_EPHEMERALLY:"Send the message ephemerally",COMPONENT:"Component",CONFIRMATION_LINK_IS_A_TYPE:"This link is a **{urlType, select, plugin {Plugin} theme {Theme} other {Add-on}}**, would you like to install it?",CONNECT_TO_DEBUG_WEBSOCKET:"Connect to debug WebSocket",CONNECT_TO_REACT_DEVTOOLS:"Connect to React DevTools",CONTINUE:"Continue",COPIED_TO_CLIPBOARD:"Copied to cumboard",COPY_URL:"Copy URL",DEBUG:"Cumbug",DEBUGGER_URL:"Cumbugger URL",DELETE:"Delete",DESC_EXTRACT_FONTS_FROM_THEME:'Looks out for "fonts" field in your currently applied theme and install it.',DEVELOPER:"Cumveloper\u{1F4A6}",DEVELOPER_SETTINGS:"Cumveloper Sementings",DISABLE_THEME:"Disable Theme",DISABLE_UPDATES:"Disable Updates",DISCORD_SERVER:"Cumcord Semen\u{1F4A6}",DONE:"Done",ENABLE_EVAL_COMMAND:"Enable /eval cummand",ENABLE_EVAL_COMMAND_DESC:"Unbound Kinda ass but as always Bound wins. W Cumcord fr \u{1F525}",ENABLE_UPDATES:"Enable Updates",ERROR_BOUNDARY_TOOLS_LABEL:"ErrorBoundary Tools",EXTRACT:"Extract semen",FONT_NAME:"Font Name",FONTS:"Fonts",GENERAL:"General",GITHUB:"CumHub\u{1F4A6}",HOLD_UP:"Hold Up",INFO:"Info",INSTALL:"Install",INSTALL_ADDON:"Install an add-on",INSTALL_FONT:"Install a font",INSTALL_PLUGIN:"Install a plugin",INSTALL_REACT_DEVTOOLS:"Install Cumact CumTools",INSTALL_THEME:"Install a theme",LABEL_EXTRACT_FONTS_FROM_THEME:"Extract semen from theme",LINKS:"Links",LOAD_FROM_CUSTOM_URL:"Load from cumtom URL",LOAD_FROM_CUSTOM_URL_DEC:"Load CumCord from a custom endpoint",LOAD_REACT_DEVTOOLS:"Load Cumact CumTools",LOADER:"Cummer",MACHINE_ID:"Machine ID",MANUFACTURER:"Manufacturer",MESSAGE:"Message",MISCELLANEOUS:"Miscellaneous",MODAL_RELOAD_REQUIRED:"Orgasm app?",MODAL_RELOAD_REQUIRED_DESC:"A reload is required to see the changes. Do you want to reload now?",MODAL_THEME_REFETCHED:"Theme refetched",MODAL_THEME_REFETCHED_DESC:"A reload is required to see the changes. Do you want to reload now?",MODAL_UNPROXIED_PLUGIN_DESC:"The plugin you are trying to install has not been proxied/verified by staff. Are you sure you want to continue?",MODAL_UNPROXIED_PLUGIN_HEADER:"Unproxied Plugin",MODEL:"Cum\u{1F4A6}",OPEN_IN_BROWSER:"Cum in Browser?",OPERATING_SYSTEM:"Cumerating System",OVERFLOW_PLUGIN_SETTINGS:"Plugin Settings",PLATFORM:"Cumform\u{1F4A6}",PLUGIN_REFETCH_FAILED:"Failed to orgasm plugin",PLUGIN_REFETCH_SUCCESSFUL:"Successfully cummed plugin",PLUGINS:"Cumins",REFETCH:"Orgasm\u{1F4A6}",RELOAD:"Cumload",RELOAD_DISCORD:"Cumload Discord",RELOAD_IN_NORMAL_MODE:"Cumload in Normal Mode",RELOAD_IN_NORMAL_MODE_DESC:"CUM\u{1F4A6} mode currently enabled, tap to reload in normal mode",RELOAD_IN_SAFE_MODE:"CUM\u{1F4A6} in Safe Mode",RELOAD_IN_SAFE_MODE_DESC:"Tap to reload Discord without loading addons",REMOVE:"Remove",RESTART_REQUIRED_TO_TAKE_EFFECT:"Restart is required to take effect",RETRY:"Retry",RETRY_RENDER:"Retry Render",SAFE_MODE:"CUM\u{1F4A6} Mode",SAFE_MODE_NOTICE_FONTS:"You are in CUM\u{1F4A6} mode, meaning fonts have been temporarily disabled. {enabled, select, true {If a font appears to be causing the issue, you can press below to disable it persistently.} other {}}",SAFE_MODE_NOTICE_PLUGINS:"You are in CUM\u{1F4A6} mode, so plugins cannot be loaded. Disable any misbehaving plugins, then return to Normal Mode from the General settings page.",SAFE_MODE_NOTICE_THEMES:"You are in CUM\u{1F4A6} mode, meaning themes have been temporarily disabled. {enabled, select, true {If a theme appears to be causing the issue, you can press below to disable it persistently.} other {}}",SEARCH:"Search",SEPARATOR:", ",SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS:"Activate CumCord\u{1F4A6} Cumperiments",SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS_DESC:"Warning: Cumming with this feature may lead to account termination. We are not responsible for what you do with this feature.",STACK_TRACE:"Cum Trace",SUCCESSFULLY_INSTALLED:"Successfully Orgasmed",THEME_EXTRACTOR_DESC:"This pack overrides the following: {fonts}",THEME_REFETCH_FAILED:"Failed to orgasm theme",THEME_REFETCH_SUCCESSFUL:"Successfully cummed theme",THEMES:"Cumthemes\u{1F4A6}",THEMES_RELOAD_FOR_CHANGES:"CUM\u{1F4A6} the app to fully apply changes",TOASTS_INSTALLED_PLUGIN:"Installed cummins\u{1F4A6}",TOASTS_PLUGIN_UPDATE:"{update, select, true {Enabled} other {Disabled}} updates for {name}",UH_OH:"Cum Oh",UNINSTALL:"Uninstall",UNINSTALL_TITLE:"Uninstall {title}",URL_PLACEHOLDER:"https://github.com/revenge-mod",VERSION:"Version",VERSIONS:"Versions"}});function Dm(){var e=({locale:r})=>{var t={"es-ES":"es","es-419":"es_419","zh-TW":"zh-Hant","zh-CN":"zh-Hans","pt-PT":"pt","pt-BR":"pt_BR","sv-SE":"sv"},o=Lm=t[r]??r;if(o.startsWith("en-")){Xo=null;return}Om.has(o)?Xo=o:(Om.add(o),fetch(`https://raw.githubusercontent.com/pyoncord/i18n/main/resources/${o}/bunny.json`).then(n=>n.json()).then(n=>ru[o]=n).then(()=>o===Lm&&(Xo=o)).catch(n=>console.error(`An error occured while fetching strings for ${o}: ${n}`)))};return Lr.subscribe("I18N_LOAD_SUCCESS",e),()=>Lr.unsubscribe("I18N_LOAD_SUCCESS",e)}function lr(e,r){var t=h[e];return new dv(t).format(r)}var dv,Xo,Lm,Om,ru,h,xe=p(()=>{"use strict";s();l();G();me();Pm();dv=Ye("MessageFormat"),Xo=null,Lm=null,Om=new Set,ru={},h=new Proxy({},{get:(e,r)=>Xo&&ru[Xo]?.[r]?ru[Xo]?.[r]:Nm[r]})});var mi={};F(mi,{showToast:()=>$});var pv,$,Dr=p(()=>{"use strict";s();l();xe();le();ge();G();me();({uuid4:pv}=H(()=>L("uuid4"))),$=(e,r)=>Gn.open({key:`vd-toast-${pv()}`,content:e,source:r,icon:r});$.showCopyToClipboard=(e=h.COPIED_TO_CLIPBOARD)=>{$(e,y("toast_copy_link"))}});var pi={};F(pi,{connectToDebugger:()=>Qn,getDebugInfo:()=>Mr,patchLogHook:()=>nu,toggleSafeMode:()=>ou,versionHash:()=>Zn});function ou(){return tu.apply(this,arguments)}function tu(){return tu=x(function*(){D.safeMode={...D.safeMode,enabled:!D.safeMode?.enabled},Or()&&(Yt()?.id&&(D.safeMode.currentThemeId=Yt().id),D.safeMode?.enabled?yield dt(null):D.safeMode?.currentThemeId&&(yield dt(fe[D.safeMode?.currentThemeId]))),setTimeout(dr.reload,400)}),tu.apply(this,arguments)}function Qn(e){if(Br!==void 0&&Br.readyState!==WebSocket.CLOSED&&Br.close(),!e){$("Invalid debugger URL!",y("Small"));return}Br=new WebSocket(`ws://${e}`),Br.addEventListener("open",()=>$("Connected to debugger.",y("Check"))),Br.addEventListener("message",r=>{try{(0,eval)(r.data)}catch(t){console.error(t)}}),Br.addEventListener("error",r=>{console.log(`Debugger error: ${r.message}`),$("An error occurred with the debugger connection!",y("Small"))})}function nu(){var e=ie("nativeLoggingHook",globalThis,r=>{Br?.readyState===WebSocket.OPEN&&Br.send(JSON.stringify({message:r[0],level:r[1]})),ke.log(r[0])});return()=>{Br&&Br.close(),e()}}function Mr(){var e=window.HermesInternal.getRuntimeProperties(),r=e["OSS Release Version"],t="for RN ",o=di.Platform.constants,n=o.reactNativeVersion;return{vendetta:{version:Zn.split("-")[0],loader:jl()},bunny:{version:Zn,loader:{name:jl(),version:fm()}},discord:{version:so.Version,build:so.Build},react:{version:React.version,nativeVersion:r.startsWith(t)?r.substring(t.length):`${n.major}.${n.minor}.${n.patch}`},hermes:{version:r,buildType:e.Build,bytecodeVersion:e["Bytecode Version"]},...di.Platform.select({android:{os:{name:"Android",version:o.Release,sdk:o.Version}},ios:{os:{name:o.systemName,version:o.osVersion}}}),...di.Platform.select({android:{device:{manufacturer:o.Manufacturer,brand:o.Brand,model:o.Model,codename:lo.device}},ios:{device:{manufacturer:lo.deviceManufacturer,brand:lo.deviceBrand,model:lo.deviceModel,codename:lo.device}}})}}var di,Br,Zn,yt=p(()=>{"use strict";s();l();pe();sr();le();ht();Er();Le();Ee();ut();Dr();di=U(K());Zn="5506001-main"});function iu(e){var r=Ps("modules/forwarding/native/ForwardFailedAlertModal.tsx");return!r&&"extraContent"in e&&(e.content=_(au.View,{style:{gap:16},children:[a(R,{variant:"text-md/medium",color:"text-muted",children:e.content}),a(au.View,{children:e.extraContent})]}),delete e.extraContent),a(hv,{...e})}var au,hv,gv,Bm,Mm=p(()=>{"use strict";s();l();z();ge();Fe();ee();au=U(K()),{AlertModal:hv,AlertActionButton:gv}=H(()=>L("AlertModal","AlertActions")),Bm=gv});var su={};F(su,{AlertActionButton:()=>Bm,AlertModal:()=>iu});var Fm=p(()=>{"use strict";s();l();Mm()});function km(e){return Um.isSemanticColor(e)}function Hm(e,r=vv.theme){return Um.resolveSemanticColor(r,e)}var hi,Je,jm,vv,Um,Jo=p(()=>{"use strict";s();l();G();me();hi=L("SemanticColor"),Je=hi?.default?.colors??Nr?.ThemeColorMap,jm=hi?.default?.unsafe_rawColors??Nr?.Colors,vv=po("ThemeStore"),Um=hi.default.meta??=hi.default.internal});var cu={};F(cu,{TextStyleSheet:()=>_t,ThemeContext:()=>lu,createLegacyClassComponentStyles:()=>_v,createStyles:()=>Fr,createThemedStyleSheet:()=>uu});function Fr(e){return Re(()=>zm.createStyles(e))}function _v(e){return Re(()=>zm.createLegacyClassComponentStyles(e))}function uu(e){for(var r in e)e[r]=new Proxy(Vm.StyleSheet.flatten(e[r]),{get(t,o,n){var i=Reflect.get(t,o,n);return km(i)?Hm(i):i}});return e}var Vm,zm,lu,_t,Xr=p(()=>{"use strict";s();l();ge();me();Jo();Vm=U(K()),zm=N("createStyles"),{ThemeContext:lu}=H(()=>L("ThemeContext"),{hint:"object"}),{TextStyleSheet:_t}=H(()=>L("TextStyleSheet"))});function jr({selectable:e,style:r,children:t}){return e?Zo.Platform.select({ios:a(xv,{style:r,children:t}),default:a(Gm,{style:r,children:t,selectable:!0})}):a(Gm,{style:r,children:t})}var Zo,$m,xv,Gm,Ym=p(()=>{"use strict";s();l();z();G();Jo();Xr();Zo=U(K()),$m=Fr({codeBlock:{fontFamily:Nr.Fonts.CODE_NORMAL,fontSize:12,textAlignVertical:"center",backgroundColor:Je.BACKGROUND_SECONDARY,color:Je.TEXT_NORMAL,borderWidth:1,borderRadius:12,borderColor:Je.BACKGROUND_TERTIARY,padding:10}}),xv=({style:e,children:r})=>a(Zo.TextInput,{editable:!1,multiline:!0,style:[$m().codeBlock,e&&e],value:r}),Gm=({selectable:e,style:r,children:t})=>a(Zo.Text,{selectable:e,style:[$m().codeBlock,r&&r],children:t})});var fu={};F(fu,{hideSheet:()=>Kt,showSheet:()=>wo});function wo(e,r,t){"then"in r||(r=Promise.resolve({default:r})),Wm.openLazy(r,e,t??{})}function Kt(e){Wm.hideActionSheet(e)}var Wm,Ao=p(()=>{"use strict";s();l();me();Wm=N("openLazy","hideActionSheet")});function Km(e){return e.split(/[\s|\n]+?in /).filter(Boolean)}var qm=p(()=>{"use strict";s();l()});var Ur=zr((wA,Xm)=>{s();l();Xm.exports=Ft().react});function ea(e){var[r,t]=(0,Jm.useState)(!0),o;try{o=Km(e.componentStack),o=r?o.slice(0,4):o}catch{return}return a(ye,{children:_(To.View,{style:{gap:8},children:[a(R,{variant:"heading-lg/bold",children:"Component Stack"}),a(To.View,{style:{gap:4},children:o.map(n=>_(To.View,{style:{flexDirection:"row"},children:[a(R,{variant:"text-md/bold",color:"text-muted",children:"<"}),a(R,{variant:"text-md/bold",children:n}),a(R,{variant:"text-md/bold",color:"text-muted",children:"/>"})]}))}),r&&a(R,{children:"..."}),_(To.View,{style:{gap:8,flexDirection:"row",justifyContent:"center",alignItems:"center"},children:[a(Y,{variant:"secondary",text:`Show ${r?"more":"less"}`,icon:r?y("down_arrow"):a(To.Image,{style:{transform:[{rotate:`${r?0:180}deg`}]},source:y("down_arrow")}),onPress:()=>t(n=>!n)}),a(Y,{variant:"secondary",text:"Copy",icon:y("CopyIcon"),onPress:()=>Me.setString(e.componentStack)})]})]})})}var Jm,To,mu=p(()=>{"use strict";s();l();z();qm();le();G();ee();Jm=U(Ur()),To=U(K())});function wv(e){return e==="InternalBytecode.js"}function Av(e){var r=e.match(Sv);if(r)return{type:"FRAME",functionName:r[1],location:r[2]==="native"?{type:"NATIVE"}:r[3]==="address at "?wv(r[4])?{type:"INTERNAL_BYTECODE",sourceUrl:r[4],line1Based:Number.parseInt(r[5],10),virtualOffset0Based:Number.parseInt(r[6],10)}:{type:"BYTECODE",sourceUrl:r[4],line1Based:Number.parseInt(r[5],10),virtualOffset0Based:Number.parseInt(r[6],10)}:{type:"SOURCE",sourceUrl:r[4],line1Based:Number.parseInt(r[5],10),column1Based:Number.parseInt(r[6],10)}};var t=e.match(bv);if(t)return{type:"SKIPPED",count:Number.parseInt(t[1],10)}}function Tv(e){for(var r=e.split(/\n/),t=[],o=-1,n=0;n<r.length;++n){var i=r[n];if(i){var u=Av(i);if(u){t.push(u);continue}Ev.test(i)||(o=n,t=[])}}var c=r.slice(0,o+1).join(`
`);return{message:c,entries:t}}function Cv(e){var r=[];for(var t of e.entries)if(t.type==="FRAME"){var{location:o,functionName:n}=t;o.type==="NATIVE"||o.type==="INTERNAL_BYTECODE"||r.push({methodName:n,file:o.sourceUrl,lineNumber:o.line1Based,column:o.type==="SOURCE"?o.column1Based-1:o.virtualOffset0Based})}return r}function du(e){if(e==null)return[];var r=Array.isArray(e)?e:Cv(Tv(e));return r}var Sv,bv,Ev,Zm=p(()=>{"use strict";s();l();Sv=/^ {4}at (.+?)(?: \((native)\)?| \((address at )?(.*?):(\d+):(\d+)\))$/,bv=/^ {4}... skipping (\d+) frames$/,Ev=/^ {4}at .*$/});function ra(e){var[r,t]=(0,pu.useState)(!0),o;try{var n=du(e.error.stack);o=r?n.slice(0,4):n}catch{return null}return a(ye,{children:_(qt.View,{style:{gap:12},children:[a(R,{variant:"heading-lg/bold",children:"Call Stack"}),a(qt.View,{style:{gap:4},children:o.map((i,u)=>a(Rv,{id:u,frame:i}))}),r&&a(R,{children:"..."}),_(qt.View,{style:{gap:8,flexDirection:"row",justifyContent:"center",alignItems:"center"},children:[a(Y,{variant:"secondary",text:`Show ${r?"more":"less"}`,icon:r?y("down_arrow"):a(qt.Image,{style:{transform:[{rotate:`${r?0:180}deg`}]},source:y("down_arrow")}),onPress:()=>t(i=>!i)}),a(Y,{variant:"secondary",text:"Copy",icon:y("CopyIcon"),onPress:()=>Me.setString(e.error.stack)})]})]})})}function Rv(e){var[r,t]=(0,pu.useState)(!0);return _(qt.Pressable,{onPress:()=>t(o=>!o),children:[a(R,{style:{fontFamily:Nr.Fonts.CODE_BOLD},children:e.frame.methodName}),a(R,{style:{fontFamily:Nr.Fonts.CODE_NORMAL},ellipsizeMode:"middle",numberOfLines:r?1:void 0,children:_(R,{color:"text-muted",children:[e.frame.file===Qm?"jsbundle":e.frame.file,":",e.frame.lineNumber,":",e.frame.column]})})]},e.id)}var pu,qt,hu=p(()=>{"use strict";s();l();z();Zm();le();G();ee();pu=U(Ur()),qt=U(K());gu()});function vu(e){return a(Pr,{children:_(ed.View,{style:{gap:12,paddingVertical:12},children:[a(R,{variant:"heading-lg/extrabold",children:"Error"}),a(jr,{selectable:!0,children:e.error.message}),ci(e.error)&&a(ra,{error:e.error}),ui(e.error)?a(ea,{componentStack:e.error.componentStack}):null]})})}var ed,rd=p(()=>{"use strict";s();l();z();Ql();Sr();ee();ed=U(K());mu();hu()});function yu(e){return a(ye,{children:_(se,{children:[e.header&&typeof e.header!="string"?e.header:a(R,{variant:"heading-lg/bold",children:e.header??h.UH_OH}),a(jr,{selectable:!0,children:String(e.error)}),_(al,{children:[e.onRetryRender&&a(Y,{variant:"destructive",text:h.RETRY_RENDER,onPress:e.onRetryRender}),e.error instanceof Error?a(Y,{text:"Details",onPress:()=>wo("BunnyErrorDetailsActionSheet",vu,{error:e.error})}):null]})]})})}var Qm,gu=p(()=>{"use strict";s();l();z();xe();Sr();Ao();ee();rd();Qm=window.HermesInternal.getFunctionLocation(window.__r).fileName});var Iv,Se,_u=p(()=>{"use strict";s();l();Na();hn();Sn();ms();Oa();z();gu();G();Xr();Se=function(e){"use strict";Rt(r,e);function r(t){nr(this,r);var o;return o=Tt(this,r,[t]),o.state={hasErr:!1},o}return Tr(r,[{key:"render",value:function(){return this.state.hasErr?a(yu,{error:this.state.error,onRetryRender:()=>this.setState({hasErr:!1})}):this.props.children}}]),r}(Iv=$n.Component);bn(Se,"contextType",lu);bn(Se,"getDerivedStateFromError",e=>({hasErr:!0,error:e}))});function Pv(){return a(gi.Image,{style:{width:16,height:16},source:y("search")})}var gi,Xt,td=p(()=>{"use strict";s();l();z();xe();le();ee();_u();gi=U(K());Xt=({onChangeText:e,placeholder:r,style:t,isRound:o})=>{var[n,i]=React.useState(""),u=c=>{i(c),e?.(c)};return a(Se,{children:a(gi.View,{style:t,children:a(He,{grow:!0,isClearable:!0,leadingIcon:Pv,placeholder:r??h.SEARCH,onChange:u,returnKeyType:"search",size:"md",autoCapitalize:"none",autoCorrect:!1,isRound:o,value:n})})})}});function oa({label:e,icon:r,noPadding:t=!1,noAnimation:o=!1,children:n}){var[i,u]=React.useState(!0);return _(ct,{children:[a(T,{label:e,icon:r&&a(T.Icon,{source:y(r)}),trailing:a(Hn.Arrow,{style:{transform:[{rotate:`${i?180:90}deg`}]}}),onPress:()=>{u(!i),o||ta.LayoutAnimation.configureNext(ta.LayoutAnimation.Presets.easeInEaseOut)}}),!i&&a(ct,{children:a(ta.View,{style:!t&&{paddingHorizontal:15},children:n})})]})}var ta,od=p(()=>{"use strict";s();l();z();le();ee();ta=U(K())});var vi={};F(vi,{Codeblock:()=>jr,ErrorBoundary:()=>Se,Search:()=>Xt,Summary:()=>oa,wrappers:()=>su});var Sr=p(()=>{"use strict";s();l();Fm();Ym();_u();td();od()});function xu(e){var r=Nv(),t=Mr();return a(Se,{children:a(ol,{children:_(jn,{style:r.container,children:[_(yi.View,{style:{gap:4},children:[a(R,{variant:"display-lg",children:"Uh oh."}),a(R,{variant:"text-md/normal",children:"A crash occurred while rendering a component. This could be caused by a plugin, Revenge, or Discord itself."}),_(R,{variant:"text-sm/normal",color:"text-muted",children:[t.os.name,"; ",t.discord.build," (",t.discord.version,"); ",t.bunny.version]})]}),_(yi.ScrollView,{fadingEdgeLength:64,contentContainerStyle:{gap:12},children:[a(jr,{selectable:!0,children:e.error.message}),ci(e.error)&&a(ra,{error:e.error}),ui(e.error)?a(ea,{componentStack:e.error.componentStack}):null]}),_(ye,{style:{gap:6},children:[a(Y,{text:"Reload Discord",onPress:()=>dr.reload()}),!D.safeMode?.enabled&&a(Y,{text:"Reload in Safe Mode",onPress:()=>ou()}),a(Y,{variant:"destructive",text:"Retry Render",onPress:()=>e.rerender()})]})]})})})}var yi,Nv,nd=p(()=>{"use strict";s();l();z();Ql();yt();Er();Ee();Sr();Xr();G();ee();yi=U(K());mu();hu();Nv=Fr({container:{flex:1,backgroundColor:Kr.colors.BG_BASE_SECONDARY,paddingHorizontal:16,height:"100%",gap:12}})});function Lv(){var e=Ye("ErrorBoundary")[za];return new Promise(r=>e.getExports(t=>r(t.prototype)))}function Su(){return ie.await("render",Lv(),function(){if(this.state.error)return a(xu,{error:this.state.error,rerender:()=>this.setState({info:null,error:null})})})}var ad=p(()=>{"use strict";s();l();z();nd();Le();Cn();me()});function bu(){var{SafeAreaProvider:e}=N("useSafeAreaInsets");return ie("default",Ye("App",!1),function(r,t){return a(e,{children:t})})}var id=p(()=>{"use strict";s();l();z();Le();me()});var Eu=zr((vC,sd)=>{s();l();sd.exports=Ft().moment});function ud({locale:e}){try{ld.default.locale(e.toLowerCase())}catch(r){ke.error("Failed to fix timestamps...",r)}Lr.unsubscribe("I18N_LOAD_SUCCESS",ud)}var ld,cd,fd=p(()=>{"use strict";s();l();ut();G();ld=U(Eu());cd=()=>{Lr.subscribe("I18N_LOAD_SUCCESS",ud)}});var Jt,md=p(()=>{Jt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAYdEVYdFNvZnR3YXJlAFBhaW50Lk5FVCA1LjEuMWK1UgwAAAC2ZVhJZklJKgAIAAAABQAaAQUAAQAAAEoAAAAbAQUAAQAAAFIAAAAoAQMAAQAAAAMAAAAxAQIAEAAAAFoAAABphwQAAQAAAGoAAAAAAAAAvm4AAOgDAAC+bgAA6AMAAFBhaW50Lk5FVCA1LjEuMQADAACQBwAEAAAAMDIzMAGgAwABAAAAAQAAAAWgBAABAAAAlAAAAAAAAAACAAEAAgAEAAAAUjk4AAIABwAEAAAAMDEwMAAAAABcs0MzPnTW7QAABiFJREFUeF7tmlmIlWUYx2emyRzTppz2Pc3QNqKijQqRQgoKSyGri4S5CLqRyIyi5SKCugmKLqK6EDNIsZKCCrKYmxYkK6gQi0Zpc8GZsdKc1HH6/c63nPOd41m+M/s35w8/vuWc877v83zv8rzPd5oaaqihhhqaxGoOjxNSg4ODrRymwYkwAw5BD/Q1Nzcf4VhVE84BGD2Fw81wI1wE58LpEDlgB2yENbClVkdMCGF8MyyCnVBJA7AV7oVjw59PfGHMLNgEtUpH3Q0TeqjnhBFt8DIchjT6Bs4LixleUbBdcgrYuBHzcljPEuiDtDoID4VFlaimRlPAMRyOAyeak+EsOB+chGZDG6yC9Uw6hzkOi6i3hYOT3iXwBlwB9egduJ+2/Rdc5lXiACr13glwAdh1ZsGc8Pps0AHtoENsYKQ/4UH4MM3MG9ang6eC9Z4COtj6LgQdfCno8Hp72XewkHbtDi7zShRIY6ZzuBOWweWgoT6BQkMr6QdYRkWbg8u8QkOjdfskOBVcwnSwhmrgmaCDdUSxg4cil8ZbadePwWVesQNoYAeHZ0Dj7er1aBC64GGwRxignAH2pOhpeu66rRN0uMvUcBlaTv/CYhzwcXCZV84BGK+3n4Xl4BMfiuz+v8JemAk6wTnCp19vFx6qbNML8DROSMxRkQNu4bAWbHBW5UNZhAO+DS4DtWC8XfA+yLLxygl8YTgXxXLsafiVuatsS1svBodiLG86/o/PXWVf54DLbSwd8A/syV1lX64+LrGxdMB++C13lX053A20YukA99C/gGt41mV8Y7AVq4VlQcN/huwkDsrL+S6xM7QHqO3QH5xmWto7m6Uwsjt2gGHrX8Fp5uUmK14KIweYSKxnJRiA9+BdcBg5oY7kXGLZ1vETuMWVtNtvA6J42Y9CYddGC7vd6xTaBreBQ8glxkDjergO5oI7PvcW9e4BNPgg7IIt8BV8GZ57z/H8EbijrFW2dQFzn20PZHgIr0BavQ9udGJxbVkzYB4sBdNYX8BuOATV5Hd2wefwEtwDc2E6JBzJ9VTYAGlkVunasIi8uLkcjviNFHoNTGaUlZ9DB1wNT8E+KKf98CRcBTOhlrJfhTQyRbY4LCKeA1Q32N3SyORGYRkloqsNQA98zeVn4LxRTo7nLr67GXr9bXC7rKw7bRjv5s+JMKfCxv8O+4LTmuU4N7FRq0xtVWqwn10WnNYkcw22Ia3m0Atythc6wHyZq0EaWfl8Cqs6yfEdw9AlUKlb+5nZX7NTFRXWOR/m5W6kk5OnQVHCAcYBxgNp5BNbAWaHy4rGuhJ0gq+zqukG6OQ3uQZWkHVad9ohoEzTmY7LiwpbYRWkla+hPoVrILHXVtxzAlwJPVCr/O5jYII0Ie7ZTuvaCNZdj/6A3NCJuy43PH8CzA1W7dJFcr12R/kBONHtBGMLx/xdYFyQ2IfXIENz1/0N8H14fRosADPX7u3TtjOSc90dTLJdiQJwwlIOq6HeF4pR4OILCMezMULhMKtHbtIOgCuCw2IogVUkV5tOHLC6uHEmDg0165UNs5EmHRybQzVeWYZlRe8Khmq88uGYoi9poOGl6eysSyf6prm12AF94PidDHIOaSt2gPlBd1qTQW7e2hMOYFIwPfYJTIbkSC4/WNwDlP+v2RScZlruYzqO5gAnwuchbVQ40eRS2F/iAIaBa7nDYCVkOV3ukr/9aD1AJ+idt8F3hkZivZClrLHB2luwo2pQwVrppsE/SxjOGjxEAY7RouGt0Z7jyWMUqUVHv+P+IMIAxN9abyGjKSd6jX+EB92bqvJwv1BogOeicRpbiE7QQYXovELcytrL/Gw0pPH27BUYX/J3mVEVzpwGr0O9O7q0Mtf4Jrj+j71oyE2wB0ZDGr8GzAMkZPcdKzmvmNIaaTmhr4NH6fb+WSqhsXTA3zDSK4vGrwcnvBLjx1R0R98bdMNIyW6/FhJvg8eNaJiprcfhAAy3NH4d+Bps/IoGtsOLUOllSVpFxrvdHf+iob7yegB8FbYXfHOjEWnph23wHJg7rEmpAqGREg22HW5PzdS6VFV6d1BO/ht0K3SHoXxDDTXUUEMNVVRT0/+M4LN4eqsYNQAAAABJRU5ErkJggg=="});function dd(e,r,t,o,n){return x(function*(){if(e)return void e();var i=yield t().then(u=>u.default);typeof o=="string"&&(o={title:o}),r??=Dv.getRootNavigationRef(),r.navigate("BUNNY_CUSTOM_PAGE",{...o,render:()=>a(i,{...n})})})}var Dv,wu,pd=p(()=>{"use strict";s();l();pe();z();G();me();Sr();Dv=N("getRootNavigationRef"),wu=React.memo(()=>{var e=_e.useNavigation(),r=_e.useRoute(),{render:t,...o}=r.params;return React.useEffect(()=>void e.setOptions({...o}),[]),a(Se,{children:a(t,{})})})});function Mv(){var e=!1;return React.useEffect(()=>void(e=!0),[]),e}function hd(e){var r=()=>Object.values(Co).flatMap(n=>n.map(i=>({[i.key]:{type:"pressable",title:i.title,icon:i.icon,IconComponent:()=>a(T.Icon,{source:i.icon}),usePredicate:i.usePredicate,useTrailing:i.useTrailing,onPress:dd(i.onPress,null,i.render,i.title()),withArrow:!0,...i.rawTabsConfig}}))).reduce((n,i)=>Object.assign(n,i)),t=_i.SETTING_RENDERER_CONFIG,o=_i.SETTING_RENDERER_CONFIG;Object.defineProperty(_i,"SETTING_RENDERER_CONFIG",{enumerable:!0,configurable:!0,get:()=>({...o,VendettaCustomPage:{type:"route",title:()=>h.BUNNY,screen:{route:"VendettaCustomPage",getComponent:()=>wu}},BUNNY_CUSTOM_PAGE:{type:"route",title:()=>h.BUNNY,screen:{route:"BUNNY_CUSTOM_PAGE",getComponent:()=>wu}},...r()}),set:n=>o=n}),e.push(()=>{Object.defineProperty(_i,"SETTING_RENDERER_CONFIG",{value:t,writable:!0,get:void 0,set:void 0})}),e.push(ie("default",Bv,(n,i)=>{if(!Mv()){var{sections:u}=st(i,f=>f.props?.sections).props,c=-~u.findIndex(f=>f.settings.includes("ACCOUNT"))||1;Object.keys(Co).forEach(f=>{u.splice(c++,0,{label:f,title:f,settings:Co[f].map(b=>b.key)})})}}))}var _i,Bv,gd=p(()=>{"use strict";s();l();z();Le();vr();ee();me();na();pd();xe();_i=N("SETTING_RENDERER_CONFIG"),Bv=Ye("SettingsOverviewScreen",!1)});var Tu={};F(Tu,{patchSettings:()=>Au,registerSection:()=>aa,registeredSections:()=>Co});function aa(e){return Co[e.name]=e.items,()=>delete Co[e.name]}function Au(){var e=new Array;return hd(e),()=>e.forEach(r=>r())}var Co,na=p(()=>{"use strict";s();l();gd();Co={}});function Ru(){return D.safeMode?.enabled===!0}function vd(){return Cu.apply(this,arguments)}function Cu(){return Cu=x(function*({to:e=!Ru(),reload:r=!0}={}){var t=(D.safeMode??={enabled:e}).enabled=e,o=pt();yield Yo(t?{}:o?.data??{}),r&&setTimeout(()=>dr.reload(),500)}),Cu.apply(this,arguments)}var yd=p(()=>{"use strict";s();l();pe();sr();Er();Ee()});function xi({label:e,version:r,icon:t}){return a(T,{label:e,trailing:a(il,{text:r}),icon:a(T.Icon,{source:typeof t=="string"?y(t):t}),onPress:()=>{Me.setString(`${e} - ${r}`),$.showCopyToClipboard()}})}var _d=p(()=>{"use strict";s();l();z();le();G();ee();Dr()});function Iu(){var e=Mr();Q(D);var r=[{label:h.BUNNY,version:e.bunny.version,icon:{uri:Jt}},{label:"Discord",version:`${e.discord.version} (${e.discord.build})`,icon:"Discord"},{label:"React",version:e.react.version,icon:"ScienceIcon"},{label:"React Native",version:e.react.nativeVersion,icon:"MobilePhoneIcon"},{label:h.BYTECODE,version:e.hermes.bytecodeVersion,icon:"TopicsIcon"}],t=[{label:h.LOADER,version:`${e.bunny.loader.name} (${e.bunny.loader.version})`,icon:"DownloadIcon"},{label:h.OPERATING_SYSTEM,version:`${e.os.name} ${e.os.version}`,icon:"ScreenIcon"},...e.os.sdk?[{label:"SDK",version:e.os.sdk,icon:"StaffBadgeIcon"}]:[],{label:h.MANUFACTURER,version:e.device.manufacturer,icon:"WrenchIcon"},{label:h.BRAND,version:e.device.brand,icon:"SparklesIcon"},{label:h.MODEL,version:e.device.model,icon:"MobilePhoneIcon"},{label:Si.Platform.select({android:h.CODENAME,ios:h.MACHINE_ID}),version:e.device.codename,icon:"TagIcon"}];return a(Si.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:_(se,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24,children:[a(Be,{title:h.VERSIONS,children:r.map(o=>a(xi,{label:o.label,version:o.version,icon:o.icon}))}),a(Be,{title:h.PLATFORM,children:t.map(o=>a(xi,{label:o.label,version:o.version,icon:o.icon}))})]})})}var Si,xd=p(()=>{"use strict";s();l();z();xe();ia();_d();be();yt();Ee();ee();Si=U(K())});var Nu={};F(Nu,{dismissAlert:()=>Pu,openAlert:()=>sa});var sa,Pu,bi=p(()=>{"use strict";s();l();ge();Fe();({openAlert:sa,dismissAlert:Pu}=H(()=>L("openAlert","dismissAlert")))});var Ed={};F(Ed,{default:()=>bd});function bd(){Q(D);var e=Mr(),r=_e.useNavigation();return a(Sd.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:_(se,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24,children:[_(Be,{title:h.INFO,children:[a(T,{label:h.BUNNY,icon:a(T.Icon,{source:{uri:Jt}}),trailing:a(T.TrailingText,{text:e.bunny.version})}),a(T,{label:"Discord",icon:a(T.Icon,{source:y("Discord")}),trailing:a(T.TrailingText,{text:`${e.discord.version} (${e.discord.build})`})}),a(T,{arrow:!0,label:h.ABOUT,icon:a(T.Icon,{source:y("CircleInformationIcon-primary")}),onPress:()=>r.push("BUNNY_CUSTOM_PAGE",{title:h.ABOUT,render:()=>a(Iu,{})})})]}),_(Be,{title:h.LINKS,children:[a(T,{arrow:!0,label:h.DISCORD_SERVER,icon:a(T.Icon,{source:y("Discord")}),onPress:()=>zt.openDeeplink(zs)}),a(T,{arrow:!0,label:h.GITHUB,icon:a(T.Icon,{source:y("img_account_sync_github_white")}),onPress:()=>zt.openURL(Gs)})]}),_(Be,{title:h.ACTIONS,children:[a(T,{label:h.RELOAD_DISCORD,icon:a(T.Icon,{source:y("RetryIcon")}),onPress:()=>dr.reload()}),a(ft,{label:h.SAFE_MODE,subLabel:D.safeMode?.enabled?h.RELOAD_IN_NORMAL_MODE_DESC:h.RELOAD_IN_SAFE_MODE_DESC,icon:a(T.Icon,{source:y("ShieldIcon")}),value:Ru(),onValueChange:t=>{vd({to:t,reload:!1}),sa("bunny-reload-safe-mode",a(Un,{title:"Reload now?",content:t?"All add-ons will be temporarily disabled upon reload.":"All add-ons will load normally.",actions:_(cl,{children:[a(Ho,{text:"Reload Now",variant:"destructive",onPress:()=>dr.reload()}),a(Ho,{text:"Later",variant:"secondary"})]})}))}}),a(ft,{label:h.DEVELOPER_SETTINGS,icon:a(T.Icon,{source:y("WrenchIcon")}),value:D.developerSettings,onValueChange:t=>{D.developerSettings=t}})]}),a(Be,{title:h.MISCELLANEOUS,children:a(ft,{label:h.SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS,subLabel:h.SETTINGS_ACTIVATE_DISCORD_EXPERIMENTS_DESC,icon:a(T.Icon,{source:y("WrenchIcon")}),value:D.enableDiscordDeveloperSettings,onValueChange:t=>{D.enableDiscordDeveloperSettings=t}})})]})})}var Sd,wd=p(()=>{"use strict";s();l();z();yd();xe();ia();xd();be();le();yt();Er();Ee();bi();Ht();G();ee();Sd=U(K())});function Lu(e){var r;try{r=new URL(e)}catch{return!1}return r.protocol==="http:"||r.protocol==="https:"}var Ad=p(()=>{"use strict";s();l()});var Cd=zr((Td,Ei)=>{s();l();Na();hn();Sn();Oa();lf();((e,r)=>{typeof define=="function"&&define.amd?define([],r):typeof Ei=="object"&&Ei.exports?Ei.exports=r():e.fuzzysort=r()})(Td,e=>{"use strict";var r=(S,v)=>{if(!S||!v)return Ce;var w=I(S);ro(v)||(v=C(v));var P=w.bitflags;return(P&v._bitflags)!==P?Ce:de(w,v)},t=(S,v,w)=>{if(!S)return w?.all?q(v,w):Wi;var P=I(S),B=P.bitflags,O=P.containsSpace,A=g(w?.threshold||0),k=w?.limit||Yi,M=0,X=0,W=v.length;function qe(no){M<k?(Ra.add(no),++M):(++X,no._score>Ra.peek()._score&&Ra.replaceTop(no))}if(w?.key)for(var je=w.key,J=0;J<W;++J){var ze=v[J],oe=Ca(ze,je);if(oe&&(ro(oe)||(oe=C(oe)),(B&oe._bitflags)===B)){var ae=de(P,oe);ae!==Ce&&(ae._score<A||(ae.obj=ze,qe(ae)))}}else if(w?.keys){var rt=w.keys,br=rt.length;e:for(var J=0;J<W;++J){var ze=v[J];{for(var Ne=0,he=0;he<br;++he){var je=rt[he],oe=Ca(ze,je);if(!oe){$i[he]=fn;continue}ro(oe)||(oe=C(oe)),$i[he]=oe,Ne|=oe._bitflags}if((B&Ne)!==B)continue}if(O)for(var er=0;er<P.spaceSearches.length;er++)et[er]=Qe;for(var he=0;he<br;++he){if(oe=$i[he],oe===fn){Oo[he]=fn;continue}if(Oo[he]=de(P,oe,!1,O),Oo[he]===Ce){Oo[he]=fn;continue}if(O)for(var j=0;j<P.spaceSearches.length;j++){if(eo[j]>-1e3&&et[j]>Qe){var rr=(et[j]+eo[j])/4;rr>et[j]&&(et[j]=rr)}eo[j]>et[j]&&(et[j]=eo[j])}}if(O){for(var fr=0;fr<P.spaceSearches.length;fr++)if(et[fr]===Qe)continue e}else{for(var to=!1,oo=0;oo<br;oo++)if(Oo[oo]._score!==Qe){to=!0;break}if(!to)continue}for(var mr=new c(br),tr=0;tr<br;tr++)mr[tr]=Oo[tr];if(O)for(var ue=0,Do=0;Do<P.spaceSearches.length;Do++)ue+=et[Do];else for(var ue=Qe,or=0;or<br;or++){var ae=mr[or];if(ae._score>-1e3&&ue>Qe){var rr=(ue+ae._score)/4;rr>ue&&(ue=rr)}ae._score>ue&&(ue=ae._score)}if(mr.obj=ze,mr._score=ue,w?.scoreFn){if(ue=w.scoreFn(mr),!ue)continue;ue=g(ue),mr._score=ue}ue<A||qe(mr)}}else for(var J=0;J<W;++J){var oe=v[J];if(oe&&(ro(oe)||(oe=C(oe)),(B&oe._bitflags)===B)){var ae=de(P,oe);ae!==Ce&&(ae._score<A||qe(ae))}}if(M===0)return Wi;for(var mn=new Array(M),J=M-1;J>=0;--J)mn[J]=Ra.poll();return mn.total=M+X,mn},o=(S,v="<b>",w="</b>")=>{for(var P=typeof v=="function"?v:void 0,B=S.target,O=B.length,A=S.indexes,k="",M=0,X=0,W=!1,qe=[],je=0;je<O;++je){var J=B[je];if(A[X]===je){if(++X,W||(W=!0,P?(qe.push(k),k=""):k+=v),X===A.length){P?(k+=J,qe.push(P(k,M++)),k="",qe.push(B.substr(je+1))):k+=J+w+B.substr(je+1);break}}else W&&(W=!1,P?(qe.push(P(k,M++)),k=""):k+=w);k+=J}return P?qe:k},n=S=>{typeof S=="number"?S=""+S:typeof S!="string"&&(S="");var v=Vr(S);return f(S,{_targetLower:v._lower,_targetLowerCodes:v.lowerCodes,_bitflags:v.bitflags})},i=()=>{zi.clear(),Gi.clear()},u=function(){function S(){nr(this,S)}return Tr(S,[{key:"indexes",get:function(){return this._indexes.slice(0,this._indexes.len).sort((w,P)=>w-P)}},{key:"indexes",set:function(w){return this._indexes=w}},{key:"highlight",value:function(w,P){return o(this,w,P)}},{key:"score",get:function(){return b(this._score)}},{key:"score",set:function(w){this._score=g(w)}}]),S}(),c=function(S){Rt(v,S);function v(){return nr(this,v),Tt(this,v,arguments)}return Tr(v,[{key:"score",get:function(){return b(this._score)}},{key:"score",set:function(P){this._score=g(P)}}]),v}(Da(Array)),f=(S,v)=>{var w=new u;return w.target=S,w.obj=v.obj??Ce,w._score=v._score??Qe,w._indexes=v._indexes??[],w._targetLower=v._targetLower??"",w._targetLowerCodes=v._targetLowerCodes??Ce,w._nextBeginningIndexes=v._nextBeginningIndexes??Ce,w._bitflags=v._bitflags??0,w},b=S=>S===Qe?0:S>1?S:Math.E**(((-S+1)**.04307-1)*-2),g=S=>S===0?Qe:S>1?S:1-Math.pow(Math.log(S)/-2+1,1/.04307),E=S=>{typeof S=="number"?S=""+S:typeof S!="string"&&(S=""),S=S.trim();var v=Vr(S),w=[];if(v.containsSpace){var P=S.split(/\s+/);P=[...new Set(P)];for(var B=0;B<P.length;B++)if(P[B]!==""){var O=Vr(P[B]);w.push({lowerCodes:O.lowerCodes,_lower:P[B].toLowerCase(),containsSpace:!1})}}return{lowerCodes:v.lowerCodes,_lower:v._lower,containsSpace:v.containsSpace,bitflags:v.bitflags,spaceSearches:w}},C=S=>{if(S.length>999)return n(S);var v=zi.get(S);return v!==void 0||(v=n(S),zi.set(S,v)),v},I=S=>{if(S.length>999)return E(S);var v=Gi.get(S);return v!==void 0||(v=E(S),Gi.set(S,v)),v},q=(S,v)=>{var w=[];w.total=S.length;var P=v?.limit||Yi;if(v?.key)for(var B=0;B<S.length;B++){var O=S[B],A=Ca(O,v.key);if(A!=Ce){ro(A)||(A=C(A));var k=f(A.target,{_score:A._score,obj:O});if(w.push(k),w.length>=P)return w}}else if(v?.keys)for(var B=0;B<S.length;B++){for(var O=S[B],M=new c(v.keys.length),X=v.keys.length-1;X>=0;--X){var A=Ca(O,v.keys[X]);if(!A){M[X]=fn;continue}ro(A)||(A=C(A)),A._score=Qe,A._indexes.len=0,M[X]=A}if(M.obj=O,M._score=Qe,w.push(M),w.length>=P)return w}else for(var B=0;B<S.length;B++){var A=S[B];if(A!=Ce&&(ro(A)||(A=C(A)),A._score=Qe,A._indexes.len=0,w.push(A),w.length>=P))return w}return w},de=(S,v,w=!1,P=!1)=>{if(w===!1&&S.containsSpace)return cr(S,v,P);for(var B=S._lower,O=S.lowerCodes,A=O[0],k=v._targetLowerCodes,M=O.length,X=k.length,J=0,W=0,qe=0;;){var je=A===k[W];if(je){if(Qr[qe++]=W,++J,J===M)break;A=O[J]}if(++W,W>=X)return Ce}var J=0,ze=!1,oe=0,ae=v._nextBeginningIndexes;ae===Ce&&(ae=v._nextBeginningIndexes=Ve(v.target)),W=Qr[0]===0?0:ae[Qr[0]-1];var rt=0;if(W!==X)for(;;)if(W>=X){if(J<=0||(++rt,rt>200))break;--J;var br=Aa[--oe];W=ae[br]}else{var je=O[J]===k[W];if(je){if(Aa[oe++]=W,++J,J===M){ze=!0;break}++W}else W=ae[W]}var Ne=M<=1?-1:v._targetLower.indexOf(B,Qr[0]),he=!!~Ne,er=he?Ne===0||v._nextBeginningIndexes[Ne-1]===Ne:!1;if(he&&!er){for(var j=0;j<ae.length;j=ae[j])if(!(j<=Ne)){for(var rr=0;rr<M&&O[rr]===v._targetLowerCodes[j+rr];rr++);if(rr===M){Ne=j,er=!0;break}}}var fr=tr=>{for(var ue=0,Do=0,or=1;or<M;++or)tr[or]-tr[or-1]!==1&&(ue-=tr[or],++Do);var mn=tr[M-1]-tr[0]-(M-1);if(ue-=(12+mn)*Do,tr[0]!==0&&(ue-=tr[0]*tr[0]*.2),!ze)ue*=1e3;else{for(var no=1,or=ae[0];or<X;or=ae[or])++no;no>24&&(ue*=(no-24)*10)}return ue-=(X-M)/2,he&&(ue/=1+M*M*1),er&&(ue/=1+M*M*1),ue-=(X-M)/2,ue};if(ze)if(er){for(var j=0;j<M;++j)Qr[j]=Ne+j;var to=Qr,oo=fr(Qr)}else var to=Aa,oo=fr(Aa);else{if(he)for(var j=0;j<M;++j)Qr[j]=Ne+j;var to=Qr,oo=fr(to)}v._score=oo;for(var j=0;j<M;++j)v._indexes[j]=to[j];v._indexes.len=M;var mr=new u;return mr.target=v.target,mr._score=v._score,mr._indexes=v._indexes,mr},cr=(S,v,w)=>{for(var P=new Set,B=0,O=Ce,A=0,k=S.spaceSearches,M=k.length,X=0,W=()=>{for(var fr=X-1;fr>=0;fr--)v._nextBeginningIndexes[Ta[fr*2+0]]=Ta[fr*2+1]},qe=!1,j=0;j<M;++j){eo[j]=Qe;var je=k[j];if(O=de(je,v),w){if(O===Ce)continue;qe=!0}else if(O===Ce)return W(),Ce;var J=j===M-1;if(!J){for(var ze=O._indexes,oe=!0,ae=0;ae<ze.len-1;ae++)if(ze[ae+1]-ze[ae]!==1){oe=!1;break}if(oe)for(var rt=ze[ze.len-1]+1,br=v._nextBeginningIndexes[rt-1],Ne=rt-1;Ne>=0&&br===v._nextBeginningIndexes[Ne];Ne--)v._nextBeginningIndexes[Ne]=rt,Ta[X*2+0]=Ne,Ta[X*2+1]=br,X++}B+=O._score/M,eo[j]=O._score/M,O._indexes[0]<A&&(B-=(A-O._indexes[0])*2),A=O._indexes[0];for(var he=0;he<O._indexes.len;++he)P.add(O._indexes[he])}if(w&&!qe)return Ce;W();var er=de(S,v,!0);if(er!==Ce&&er._score>B){if(w)for(var j=0;j<M;++j)eo[j]=er._score/M;return er}w&&(O=v),O._score=B;var j=0;for(var rr of P)O._indexes[j++]=rr;return O._indexes.len=j,O},Vr=S=>{for(var v=S.length,w=S.toLowerCase(),P=[],B=0,O=!1,A=0;A<v;++A){var k=P[A]=w.charCodeAt(A);if(k===32){O=!0;continue}var M=k>=97&&k<=122?k-97:k>=48&&k<=57?26:k<=127?30:31;B|=1<<M}return{lowerCodes:P,bitflags:B,containsSpace:O,_lower:w}},At=S=>{for(var v=S.length,w=[],P=0,B=!1,O=!1,A=0;A<v;++A){var k=S.charCodeAt(A),M=k>=65&&k<=90,X=M||k>=97&&k<=122||k>=48&&k<=57,W=M&&!B||!O||!X;B=M,O=X,W&&(w[P++]=A)}return w},Ve=S=>{for(var v=S.length,w=At(S),P=[],B=w[0],O=0,A=0;A<v;++A)B>A?P[A]=B:(B=w[++O],P[A]=B===void 0?v:B);return P},zi=new Map,Gi=new Map,Qr=[],Aa=[],Ta=[],et=[],eo=[],$i=[],Oo=[],Ca=(S,v)=>{var w=S[v];if(w!==void 0)return w;if(typeof v=="function")return v(S);var P=v;Array.isArray(v)||(P=v.split("."));for(var B=P.length,O=-1;S&&++O<B;)S=S[P[O]];return S},ro=S=>typeof S=="object"&&typeof S._bitflags=="number",Yi=1/0,Qe=-Yi,Wi=[];Wi.total=0;var Ce=null,fn=n(""),hh=S=>{var v=[],w=0,P={},B=O=>{for(var A=0,k=v[A],M=1;M<w;){var X=M+1;A=M,X<w&&v[X]._score<v[M]._score&&(A=X),v[A-1>>1]=v[A],M=1+(A<<1)}for(var W=A-1>>1;A>0&&k._score<v[W]._score;W=(A=W)-1>>1)v[A]=v[W];v[A]=k};return P.add=O=>{var A=w;v[w++]=O;for(var k=A-1>>1;A>0&&O._score<v[k]._score;k=(A=k)-1>>1)v[A]=v[k];v[A]=O},P.poll=O=>{if(w!==0){var A=v[0];return v[0]=v[--w],B(),A}},P.peek=O=>{if(w!==0)return v[0]},P.replaceTop=O=>{v[0]=O,B()},P},Ra=hh();return{single:r,go:t,prepare:n,cleanup:i}})});function Uv(e){var[r,t]=React.useState(""),[o,n]=React.useState(""),[i,u]=React.useState(!1);function c(){u(!0),e.fetchFn(r).then(()=>Pu("AddonInputAlert")).catch(f=>f instanceof Error?n(f.message):String(f)).finally(()=>u(!1))}return a(Un,{title:e.label,content:"Type in the source URL you want to install from:",extraContent:_(se,{style:{marginTop:-12},children:[a(He,{autoFocus:!0,isClearable:!0,value:r,onChange:f=>{t(f),o&&n("")},returnKeyType:"done",onSubmitEditing:c,state:o?"error":void 0,errorMessage:o||void 0}),a(ur.ScrollView,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:{gap:8},children:a(Y,{size:"sm",variant:"tertiary",text:"Import from clipboard",icon:y("ClipboardListIcon"),onPress:()=>Me.getString().then(f=>t(f))})})]}),actions:_(se,{children:[a(Y,{loading:i,text:"Install",variant:"primary",disabled:!r||!Lu(r),onPress:c}),a(Ho,{disabled:i,text:"Cancel",variant:"secondary"})]})})}function Ro({CardComponent:e,...r}){var[t,o]=React.useState(""),[n,i]=React.useState(()=>null),{bottom:u}=nl(),c=_e.useNavigation();(0,Qo.useEffect)(()=>{r.OptionsActionSheetComponent&&c.setOptions({headerRight:()=>a(ve,{size:"sm",variant:"secondary",icon:y("MoreHorizontalIcon"),onPress:()=>wo("AddonMoreSheet",r.OptionsActionSheetComponent)})})},[c]);var f=(0,Qo.useMemo)(()=>{var E=r.items;r.resolveItem&&(E=E.map(r.resolveItem).filter(Ba));var C=E.filter(I=>Ba(I)&&typeof I=="object");return!t&&n&&C.sort(n),Rd.default.go(t,C,{keys:r.searchKeywords,all:!0})},[r.items,n,t]),b=(0,Qo.useCallback)(()=>{if(!r.installAction)return()=>{};var{label:E,onPress:C,fetchFn:I}=r.installAction;I?sa("AddonInputAlert",a(Uv,{label:E??"Install",fetchFn:I})):C?.()},[]);if(f.length===0&&!t)return _(ur.View,{style:{gap:32,flexGrow:1,justifyContent:"center",alignItems:"center"},children:[_(ur.View,{style:{gap:8,alignItems:"center"},children:[a(ur.Image,{source:y("empty_quick_switcher")}),a(R,{variant:"text-lg/semibold",color:"text-normal",children:"Oops! Nothing to see here\u2026 yet!"})]}),a(Y,{size:"lg",icon:y("DownloadIcon"),text:r.installAction?.label??"Install",onPress:b})]});var g=_(ur.View,{style:{paddingBottom:8},children:[D.safeMode?.enabled&&_(ur.View,{style:{marginBottom:10},children:[a(Fn,{messageType:0,children:r.safeModeHint?.message}),r.safeModeHint?.footer]}),_(ur.View,{style:{flexDirection:"row",gap:8},children:[a(Xt,{style:{flexGrow:1},isRound:!!r.sortOptions,onChangeText:E=>o(E)}),r.sortOptions&&a(ve,{icon:y("ic_forum_channel_sort_order_24px"),variant:"tertiary",disabled:!!t,onPress:()=>Fv({key:"AddonListSortOptions",header:{title:"Sort Options",onClose:()=>jv("AddonListSortOptions")},options:Object.entries(r.sortOptions).map(([E,C])=>({label:E,onPress:()=>i(()=>C)}))})})]}),r.ListHeaderComponent&&a(r.ListHeaderComponent,{})]});return _(Se,{children:[a(Vn,{data:f,extraData:t,estimatedItemSize:136,ListHeaderComponent:g,ListEmptyComponent:()=>_(ur.View,{style:{gap:12,padding:12,alignItems:"center"},children:[a(ur.Image,{source:y("devices_not_found")}),a(R,{variant:"text-lg/semibold",color:"text-normal",children:"Hmmm... could not find that!"})]}),contentContainerStyle:{padding:8,paddingHorizontal:12,paddingBottom:90},ItemSeparatorComponent:()=>a(ur.View,{style:{height:8}}),ListFooterComponent:r.ListFooterComponent,renderItem:({item:E})=>a(e,{item:E.obj,result:E})}),r.installAction&&a(pl,{positionBottom:u+8,icon:y("PlusLargeIcon"),onPress:b})]})}var Rd,Qo,ur,Fv,jv,wi=p(()=>{"use strict";s();l();z();le();Ee();bi();Ao();Ad();ge();Fe();G();ee();Sr();Bo();Rd=U(Cd()),Qo=U(Ur()),ur=U(K()),{showSimpleActionSheet:Fv,hideActionSheet:jv}=H(()=>L("showSimpleActionSheet"))});var Ou,Id=p(()=>{"use strict";s();l();G();Xr();Ou=Fr({smallIcon:{tintColor:Kr.colors.LOGO_PRIMARY,height:18,width:18},badgeIcon:{tintColor:Kr.colors.LOGO_PRIMARY,height:12,width:12},badgesContainer:{flexWrap:"wrap",flexDirection:"row",gap:6,borderRadius:6,padding:4}})});function Du(){return(0,Pd.default)(Kr.unsafe_rawColors.YELLOW_300).alpha(.3).hex()}function kv(){var e=Ou(),{plugin:r,result:t}=Ai(),o=t[0].highlight((u,c)=>a(R,{style:{backgroundColor:Du()},children:u},c)),n=r.icon&&y(r.icon),i=a(R,{numberOfLines:1,variant:"heading-lg/semibold",children:o.length?o:r.name});return _(kr.View,{style:{flexDirection:"row",alignItems:"center",gap:6},children:[n&&a(kr.Image,{style:e.smallIcon,source:n}),i]})}function Hv(){var{plugin:e,result:r}=Ai(),t=Ou();if(!e.authors)return null;var o=r[2].highlight((u,c)=>a(R,{style:{backgroundColor:Du()},children:u},c)),n=e.getBadges(),i=o.length>0?o:e.authors.map(u=>u.name).join(", ");return _(kr.View,{style:{flexDirection:"row",flexWrap:"wrap",flexShrink:1,gap:4},children:[_(R,{variant:"text-sm/semibold",color:"text-muted",children:["by ",i]}),n.length>0&&a(kr.View,{style:t.badgesContainer,children:n.map((u,c)=>a(kr.Image,{source:u.source,style:t.badgeIcon},c))})]})}function Vv(){var{plugin:e,result:r}=Ai(),t=r[1].highlight((o,n)=>a(R,{style:{backgroundColor:Du()},children:o},n));return a(R,{variant:"text-md/medium",children:t.length?t:e.description})}function Bu({result:e,item:r}){r.usePluginState();var[,t]=React.useReducer(()=>({}),0),o=(0,en.useMemo)(()=>({plugin:r,result:e}),[r,e]);return a(Nd.Provider,{value:o,children:a(ye,{children:_(se,{spacing:16,children:[_(kr.View,{style:{flexDirection:"row",justifyContent:"space-between"},children:[_(kr.View,{style:{flexShrink:1},children:[a(kv,{}),a(Hv,{})]}),a(kr.View,{children:_(se,{spacing:12,direction:"horizontal",children:[a(zv,{}),a(sl,{value:r.isEnabled(),onValueChange:n=>{r.toggle(n),t()}})]})})]}),a(Vv,{})]})})})}var Pd,en,kr,Nd,Ai,zv,Ld=p(()=>{"use strict";s();l();z();Id();le();G();ee();Ao();Pd=U(zo()),en=U(Ur()),kr=U(K()),Nd=(0,en.createContext)(null),Ai=()=>(0,en.useContext)(Nd);zv=()=>{var{plugin:e}=Ai(),r=_e.useNavigation();return _(kr.View,{style:{flexDirection:"row",gap:6},children:[a(ve,{size:"sm",variant:"secondary",icon:y("WrenchIcon"),disabled:!e.getPluginSettingsComponent(),onPress:()=>r.push("BUNNY_CUSTOM_PAGE",{title:e.name,render:e.getPluginSettingsComponent()})}),a(ve,{size:"sm",variant:"secondary",icon:y("CircleInformationIcon-primary"),onPress:()=>void wo("PluginInfoActionSheet",e.resolveSheetComponent(),{plugin:e,navigation:r})})]})}});var Ze,Io,V,xt=p(()=>{"use strict";s();l();pe();be();Ee();vr();Ht();ut();Ze=Cr(ar(Rr("VENDETTA_PLUGINS"))),Io={},V={plugins:Ze,pluginFetch(e){return x(function*(){return e.startsWith(Ir)&&(e=e.replace("https://bunny-mod.github.io/plugins-proxy",go).replace(Ir,go)),yield We(e,{cache:"no-store"})})()},fetchPlugin(e){return x(function*(){e.endsWith("/")||(e+="/");var r=Ze[e],t;try{t=yield(yield this.pluginFetch(e+"manifest.json")).json()}catch{throw new Error(`Failed to fetch manifest for ${e}`)}var o;if(r?.manifest.hash!==t.hash)try{o=yield(yield this.pluginFetch(e+(t.main||"index.js"))).text()}catch{}if(!o&&!r)throw new Error(`Failed to fetch JS for ${e}`);Ze[e]={id:e,manifest:t,enabled:r?.enabled??!1,update:r?.update??!0,js:o??r.js}}).apply(this)},installPlugin(e,r=!0){return x(function*(){if(e.endsWith("/")||(e+="/"),typeof e!="string"||e in Ze)throw new Error("Plugin already installed");yield this.fetchPlugin(e),r&&(yield this.startPlugin(e))}).apply(this)},evalPlugin(e){return x(function*(){var r={...window.vendetta,plugin:{id:e.id,manifest:e.manifest,storage:yield ar(Rr(e.id))},logger:new Dn(`Revenge \xBB ${e.manifest.name}`)},t=`vendetta=>{return ${e.js}}
//# sourceURL=${e.id}`,o=(0,eval)(t)(r),n=typeof o=="function"?o():o;return n?.default??n??{}})()},startPlugin(e){return x(function*(){e.endsWith("/")||(e+="/");var r=Ze[e];if(!r)throw new Error("Attempted to start non-existent plugin");try{if(!D.safeMode?.enabled){var t=yield this.evalPlugin(r);Io[e]=t,t.onLoad?.()}r.enabled=!0}catch(o){ke.error(`Plugin ${r.id} errored whilst loading, and will be unloaded`,o);try{Io[r.id]?.onUnload?.()}catch(n){ke.error(`Plugin ${r.id} errored whilst unloading`,n)}delete Io[e],r.enabled=!1}}).apply(this)},stopPlugin(e,r=!0){e.endsWith("/")||(e+="/");var t=Ze[e],o=Io[e];if(!t)throw new Error("Attempted to stop non-existent plugin");if(!D.safeMode?.enabled){try{o?.onUnload?.()}catch(n){ke.error(`Plugin ${t.id} errored whilst unloading`,n)}delete Io[e]}r&&(t.enabled=!1)},removePlugin(e){return x(function*(){e.endsWith("/")||(e+="/");var r=Ze[e];r.enabled&&this.stopPlugin(e),delete Ze[e],yield Ga(e)}).apply(this)},initPlugins(){return x(function*(){yield jt(D,Ze);var e=Object.keys(Ze);if(!D.safeMode?.enabled){var r=this;yield m(e.filter(t=>Ze[t].enabled).map(function(){var t=x(function*(o){return Ze[o].update&&(yield r.fetchPlugin(o).catch(n=>ke.error(n.message))),yield r.startPlugin(o)});return function(o){return t.apply(this,arguments)}}())),e.filter(t=>!Ze[t].enabled&&Ze[t].update).forEach(t=>this.fetchPlugin(t))}return()=>this.stopAllPlugins()}).apply(this)},stopAllPlugins(){return Object.keys(Io).forEach(e=>this.stopPlugin(e,!1))},getSettings:e=>Io[e]?.settings}});function Yv(e,r=null,t=!1){if(e.guild_id===Ys){var o;if(e.parent_id===Ws)o="Plugin";else if(e.parent_id===On&&Or())o="Theme";else return;var{firstMessage:n}=t?Gv(e):{firstMessage:r},i=n?.content?.match($s)?.filter(la[o].urlsFilter);if(!(!i||!i[0]))return o==="Plugin"&&!i[0].endsWith("/")&&(i[0]+="/"),[o,i[0]]}}function Wv(e,r=null,t=!1){var[o,n]=Yv(e,r,t)??[];Q(V.plugins),Q(fe);var[i,u]=React.useState(!1);if(!o||!n)return[!0];var c=!!la[o].storage[n],f=function(){var b=x(function*(){u(!0);try{yield la[o].installOrRemove(n)}catch(g){$(g.message,y("Small"))}finally{u(!1)}});return function(){return b.apply(this,arguments)}}();return[!1,o,c,i,f]}var Gv,$v,la,Kv,Od,Dd=p(()=>{"use strict";s();l();pe();z();xe();xt();be();sr();le();ht();Le();Ht();ge();ee();me();Sr();Dr();({useFirstForumPostMessage:Gv}=H(()=>L("useFirstForumPostMessage"))),$v=N("MostCommonForumPostReaction"),la={Plugin:{storage:V.plugins,urlsFilter:e=>e.startsWith(Ir),installOrRemove:e=>{var r=la.Plugin.storage[e];return r?V.removePlugin(e):V.installPlugin(e)}},Theme:{storage:fe,urlsFilter:e=>e.endsWith(".json"),installOrRemove:e=>{var r=la.Theme.storage[e];return r?bo(e):mt(e)}}};Kv=()=>ie("MostCommonForumPostReaction",$v,([{thread:e,firstMessage:r}],t)=>{var[o,n,i,u,c]=Wv(e,r,!0);if(!o)return _(ct,{children:[t,a(Se,{children:a(Y,{size:"sm",loading:u,disabled:u,variant:i?"secondary":"primary",text:i?h.UNINSTALL:h.INSTALL,onPress:c,icon:y(i?"ic_message_delete":"DownloadIcon"),style:{marginLeft:8}})})]})}),Od=()=>{var e=[Kv()];return()=>e.map(r=>r())}});function Mu({title:e,confirmText:r,confirmColor:t,onConfirm:o,cancelText:n,placeholder:i,initialValue:u="",secureTextEntry:c}){var[f,b]=React.useState(u),[g,E]=React.useState("");function C(){var I=Promise.resolve(o(f));I.then(()=>{Bd.close()}).catch(q=>{E(q.message)})}return a(Mn,{title:e,confirmText:r,confirmColor:t,isConfirmButtonDisabled:g.length!==0,onConfirm:C,cancelText:n,onCancel:()=>Bd.close(),children:a(hl,{placeholder:i,value:f,onChange:I=>{b(typeof I=="string"?I:I.text),g&&E("")},returnKeyType:"done",onSubmitEditing:C,error:g||void 0,secureTextEntry:c,autoFocus:!0,showBorder:!0,style:{alignSelf:"stretch"}})})}var Bd,Md=p(()=>{"use strict";s();l();z();ee();me();Bd=N("openLazy","close")});function Hr(e){var r=e;return r.body=e.content,delete r.content,r.isDismissable??=!0,Fd.show(r)}var Fd,Fu,jd,rn=p(()=>{"use strict";s();l();pe();me();Md();Fd=N("openLazy","close");Fu=(e,r)=>Fd.openLazy({importer:x(function*(){return()=>React.createElement(e,r)})}),jd=e=>Fu(Mu,e)});function Ud(e){if(e.startsWith(Ir))return"plugin";if(e.endsWith(".json")&&Or())return"theme"}function kd(e,r){(e==="plugin"?V.installPlugin.bind(V):mt)(r).then(()=>{$(h.SUCCESSFULLY_INSTALLED,y("Check"))}).catch(t=>{$(t.message,y("Small"))})}var Xv,Jv,Zv,Qv,ey,Hd,Vd=p(()=>{"use strict";s();l();pe();xe();rn();xt();sr();le();ht();Le();Ht();ge();G();Tn();Fo();me();Dr();Xv=Oe(An("showSimpleActionSheet")),Jv=N("handleClick"),{openURL:Zv}=H(()=>zt),{getChannelId:Qv}=H(()=>zn),{getChannel:ey}=H(()=>L("getChannel"));Hd=()=>{var e=new Array;return e.push(ie("showSimpleActionSheet",Xv,r=>{if(r[0].key==="LongPressUrl"){var{header:{title:t},options:o}=r[0],n=Ud(t);n&&o.push({label:h.INSTALL_ADDON,onPress:()=>kd(n,t)})}})),e.push(Pt("handleClick",Jv,function(){var r=x(function*(t,o){var{href:n}=t[0],i=Ud(n);if(!i)return o.apply(this,t);if(i==="theme"&&ey(Qv())?.parent_id!==On)return o.apply(this,t);Hr({title:h.HOLD_UP,content:lr("CONFIRMATION_LINK_IS_A_TYPE",{urlType:i}),onConfirm:()=>kd(i,n),confirmText:h.INSTALL,cancelText:h.CANCEL,secondaryConfirmText:h.OPEN_IN_BROWSER,onConfirmSecondary:()=>Zv(n)})});return function(t,o){return r.apply(this,arguments)}}())),()=>e.forEach(r=>r())}});var Gd={};F(Gd,{default:()=>ry});var zd,ry,$d=p(()=>{"use strict";s();l();Ci();Dd();Vd();zd=[],ry=Ti({manifest:{id:"bunny.quickinstall",name:"QuickInstall",version:"1.0.0",description:"Quickly install Vendetta plugins and themes",authors:[{name:"Vendetta Team"}]},start(){zd=[Od(),Hd()]},stop(){zd.forEach(e=>e())}})});var ku={};F(ku,{deleteJsxCreate:()=>ty,onJsxCreate:()=>ju,patchJsx:()=>Uu});function ju(e,r){Zt.has(e)||Zt.set(e,[]),Zt.get(e).push(r)}function ty(e,r){if(Zt.has(e)){var t=Zt.get(e);t.splice(t.indexOf(r),1),t.length===0&&Zt.delete(e)}}function Uu(){var e=([t],o)=>{if(typeof o.type>"u")return o.type="RCTView",o;if(typeof t=="function"&&Zt.has(t.name)){var n=Zt.get(t.name);for(var i of n){var u=i(t,o);u!==void 0&&(o=u)}return o}},r=[ie("jsx",Yd,e),ie("jsxs",Yd,e)];return()=>r.forEach(t=>t())}var Zt,Yd,Ri=p(()=>{"use strict";s();l();Le();Fe();Zt=new Map,Yd=N("jsx","jsxs")});var Wd={};F(Wd,{default:()=>ny});var Ii,oy,ny,Kd=p(()=>{"use strict";s();l();Le();Ri();Fe();Ii=U(Ur());Ci();oy=Uo("useBadges",!1),ny=Ti({manifest:{id:"bunny.badges",name:"Badges",version:"1.0.0",description:"Adds badges to user's profile",authors:[{name:"pylixonly"}]},start(){var e={},r={};ju("RenderedBadge",(t,o)=>{o.props.id.match(/bunny-\d+-\d+/)&&Object.assign(o.props,e[o.props.id])}),ie("default",oy,([t],o)=>{var[n,i]=(0,Ii.useState)(t?r[t.userId]??=[]:[]);(0,Ii.useEffect)(()=>{t&&fetch(`https://raw.githubusercontent.com/pyoncord/badges/refs/heads/main/${t.userId}.json`).then(u=>u.json()).then(u=>i(r[t.userId]=u))},[t]),t&&n.forEach((u,c)=>{e[`bunny-${t.userId}-${c}`]={source:{uri:u.url},id:`bunny-${c}`,label:u.label},o.push({id:`bunny-${t.userId}-${c}`,description:u.label,icon:"_"})})})}})});function Ti(e){return e[Symbol.for("bunny.core.plugin")]=!0,e}var qd,Ci=p(()=>{"use strict";s();l();qd=()=>({"bunny.quickinstall":($d(),Ge(Gd)),"bunny.badges":(Kd(),Ge(Wd))})});var Pi,St,tn,ua=p(()=>{"use strict";s();l();(function(e){e[e.BUILT_IN=0]="BUILT_IN",e[e.BUILT_IN_TEXT=1]="BUILT_IN_TEXT",e[e.BUILT_IN_INTEGRATION=2]="BUILT_IN_INTEGRATION",e[e.BOT=3]="BOT",e[e.PLACEHOLDER=4]="PLACEHOLDER"})(Pi||(Pi={}));(function(e){e[e.SUB_COMMAND=1]="SUB_COMMAND",e[e.SUB_COMMAND_GROUP=2]="SUB_COMMAND_GROUP",e[e.STRING=3]="STRING",e[e.INTEGER=4]="INTEGER",e[e.BOOLEAN=5]="BOOLEAN",e[e.USER=6]="USER",e[e.CHANNEL=7]="CHANNEL",e[e.ROLE=8]="ROLE",e[e.MENTIONABLE=9]="MENTIONABLE",e[e.NUMBER=10]="NUMBER",e[e.ATTACHMENT=11]="ATTACHMENT"})(St||(St={}));(function(e){e[e.CHAT=1]="CHAT",e[e.USER=2]="USER",e[e.MESSAGE=3]="MESSAGE"})(tn||(tn={}))});var Jd={};F(Jd,{default:()=>ly});function Xd(e){return"```js\n"+e.replaceAll("`","`"+sy)+"\n```"}var ay,iy,sy,ly,Zd=p(()=>{"use strict";s();l();pe();xe();ua();Ee();G();me();ay=N("inspect"),iy=x(function*(){}).constructor,sy="\u200B";ly=()=>({name:"eval",description:h.COMMAND_EVAL_DESC,shouldHide:()=>D.enableEvalCommand===!0,options:[{name:"code",type:St.STRING,description:h.COMMAND_EVAL_OPT_CODE,required:!0},{name:"async",type:St.BOOLEAN,description:h.COMMAND_EVAL_OPT_ASYNC}],execute([e,r],t){return x(function*(){try{var o=ay.inspect(r?.value?yield iy(e.value)():eval?.(e.value)),n=o.length>2e3?o.slice(0,2e3)+"...":o;_r.sendBotMessage(t.channel.id,Xd(n))}catch(i){_r.sendBotMessage(t.channel.id,Xd(i?.stack??i))}})()}})});var Qd={};F(Qd,{default:()=>uy});var uy,ep=p(()=>{"use strict";s();l();xe();ua();yt();G();uy=()=>({name:"Cum\u{1F4A6}\u{1F4A6}",description:h.COMMAND_DEBUG_DESC,options:[{name:"ephemeral",type:St.BOOLEAN,description:h.COMMAND_DEBUG_OPT_EPHEMERALLY}],execute([e],r){var t=Mr(),o=["\u{1F4A6}**CumCord Debug Info**\u{1F4A6}",`> Revenge: ${t.bunny.version} (CumCord\u{1F4A6} ${t.bunny.loader.version})`,`> Discord: ${t.discord.version} (${t.discord.build})`,`> React: ${t.react.version} (RN ${t.react.nativeVersion})`,`> Hermes: ${t.hermes.version} (bcv${t.hermes.bytecodeVersion})`,`> System: ${t.os.name} ${t.os.version} ${t.os.sdk?`(SDK ${t.os.sdk})`:""}`.trimEnd(),`> Device: ${t.device.model} (${t.device.codename})`].join(`
`);e?.value?_r.sendBotMessage(r.channel.id,o):_r.sendMessage(r.channel.id,{content:o})}})});var rp={};F(rp,{default:()=>cy});var cy,tp=p(()=>{"use strict";s();l();xe();xt();ua();G();cy=()=>({name:"plugins",description:h.COMMAND_PLUGINS_DESC,options:[{name:"ephemeral",displayName:"ephemeral",type:St.BOOLEAN,description:h.COMMAND_DEBUG_OPT_EPHEMERALLY}],execute([e],r){var t=Object.values(V.plugins).filter(Boolean);t.sort((u,c)=>u.manifest.name.localeCompare(c.manifest.name));var o=t.filter(u=>u.enabled).map(u=>u.manifest.name),n=t.filter(u=>!u.enabled).map(u=>u.manifest.name),i=[`**Installed Plugins (${t.length}):**`,...o.length>0?[`Enabled (${o.length}):`,"> "+o.join(", ")]:[],...n.length>0?[`Disabled (${n.length}):`,"> "+n.join(", ")]:[]].join(`
`);e?.value?_r.sendBotMessage(r.channel.id,i):_r.sendMessage(r.channel.id,{content:i})}})});var Ni={};F(Ni,{patchCommands:()=>Hu,registerCommand:()=>on});function Hu(){var e=ie("getBuiltInCommands",_o,([r],t)=>[...t,...ca.filter(o=>(r instanceof Array?r.includes(o.type):r===o.type)&&o.__bunny?.shouldHide?.()!==!1)]);return[(Zd(),Ge(Jd)),(ep(),Ge(Qd)),(tp(),Ge(rp))].forEach(r=>on(r.default())),()=>{ca=[],e()}}function on(e){var r;try{r=_o.getBuiltInCommands(tn.CHAT,!0,!1)}catch{r=_o.getBuiltInCommands(Object.values(tn),!0,!1)}r.sort((n,i)=>parseInt(i.id)-parseInt(n.id));var t=r[r.length-1];if(e.id=(parseInt(t.id,10)-1).toString(),e.__bunny={shouldHide:e.shouldHide},e.applicationId??="-1",e.type??=tn.CHAT,e.inputType=Pi.BUILT_IN,e.displayName??=e.name,e.untranslatedName??=e.name,e.displayDescription??=e.description,e.untranslatedDescription??=e.description,e.options)for(var o of e.options)o.displayName??=o.name,o.displayDescription??=o.description;return Pt("execute",e,(n,i)=>{Promise.resolve(i.apply(e,n)).then(u=>{u&&typeof u=="object"&&_r.sendMessage(n[1].channel.id,u)}).catch(u=>{ke.error("Failed to execute command",u)})}),ca.push(e),()=>ca=ca.filter(({id:n})=>n!==e.id)}var ca,fa=p(()=>{"use strict";s();l();ua();Le();ut();G();ca=[]});var zu={};F(zu,{dispatcher:()=>Li,injectFluxInterceptor:()=>Vu,intercept:()=>my});function Vu(){var e=r=>{for(var t of Oi){var o=t(r);o!=null&&(o?typeof o=="object"&&(Object.assign(r,o),r[fy]=!0):r[op]=!0)}return op in r};return(Li._interceptors??=[]).unshift(e),()=>Li._interceptors&&=Li._interceptors.filter(r=>r!==e)}function my(e){return Oi.push(e),()=>{Oi=Oi.filter(r=>r!==e)}}var op,fy,Li,Oi,Gu=p(()=>{"use strict";s();l();G();op=Symbol.for("bunny.flux.blocked"),fy=Symbol.for("bunny.flux.modified"),Li=Lr,Oi=[]});var $u={};F($u,{fs:()=>dn});var np=p(()=>{"use strict";s();l();ot()});var Yu={};F(Yu,{jsx:()=>ku});var ap=p(()=>{"use strict";s();l();Ri()});var Wu={};F(Wu,{assets:()=>fi,commands:()=>Ni,debug:()=>pi,flux:()=>zu,native:()=>$u,patcher:()=>mo,react:()=>Yu,settings:()=>ai,storage:()=>Vs});var Ku=p(()=>{"use strict";s();l();le();fa();yt();Gu();np();Le();ap();Ee();Wr()});function nn(e,r){var t=(...n)=>{var i=r(...n);return e.push(i),i};for(var o in r)typeof r[o]=="function"&&(t[o]=nn(e,r[o]));return t}function ip(e){var r=new Array,t={...window.bunny,api:{...window.bunny.api,patcher:{before:nn(r,mo.before),after:nn(r,mo.after),instead:nn(r,mo.instead)},commands:{...window.bunny.api.commands,registerCommand:nn(r,on)},flux:{...window.bunny.api.flux,intercept:nn(r,window.bunny.api.flux.intercept)}},plugin:{createStorage:()=>kt(`plugins/storage/${e}.json`),manifest:we.get(e),logger:ke}};return{object:t,disposers:r}}var sp=p(()=>{"use strict";s();l();Ku();fa();Wr();ut();Qt()});var ha={};F(ha,{apiObjects:()=>lc,corePluginInstances:()=>da,deleteRepository:()=>hy,disablePlugin:()=>Bi,enablePlugin:()=>fc,getPluginSettingsComponent:()=>cc,initPlugins:()=>pc,installPlugin:()=>gy,isCorePlugin:()=>uc,isGreaterVersion:()=>qu,isPluginEnabled:()=>Di,isPluginInstalled:()=>Et,pluginInstances:()=>Jr,pluginRepositories:()=>bt,pluginSettings:()=>Ae,refreshPlugin:()=>py,registeredPlugins:()=>we,startPlugin:()=>Po,stopPlugin:()=>Mi,uninstallPlugin:()=>cp,updateAllRepository:()=>mc,updateAndWritePlugin:()=>ma,updatePlugins:()=>dc,updateRepository:()=>Zu});function Pe(e,r,t){if(!e)throw new Error(`[${r}] Attempted to ${t}`)}function qu(e,r){if(Vo.gt(e,r))return!0;var t=Vo.coerce(e);return t==null?!1:Vo.prerelease(e)?.includes("dev")&&Vo.eq(t,r)}function pa(e){return"parentRepository"in e}function uc(e){return da.has(e)}function cc(e){var r=Jr.get(e);return r&&r.SettingsComponent?r.SettingsComponent:null}function Et(e){return Ae[e]!=null}function Di(e){return!!Ae[e]?.enabled}function ma(e,r,t){return Xu.apply(this,arguments)}function Xu(){return Xu=x(function*(e,r,t){var o=yield up(e,`builds/${r}/manifest.json`);if(o.parentRepository=e,t){o.jsPath=`plugins/scripts/${r}.js`;var n=yield dy(e,`builds/${r}/index.js`);yield wr(o.jsPath,n)}if(yield Us(`plugins/manifests/${r}.json`,o),we.has(r)){var i=we.get(r);return Object.assign(i,o)}return o}),Xu.apply(this,arguments)}function py(e,r){return Ju.apply(this,arguments)}function Ju(){return Ju=x(function*(e,r){var t=we.get(e);Pe(t,e,"refresh a non-registered plugin"),Pe(Jr.get(e),e,"refresh a non-started plugin"),Mi(e),pa(t)&&(t=yield ma(r??t.parentRepository,e,!0)),we.delete(e),we.set(e,t),yield Po(e)}),Ju.apply(this,arguments)}function Zu(e){return Qu.apply(this,arguments)}function Qu(){return Qu=x(function*(e){var r=yield up(e,"repo.json"),t=bt[e],o=!1;if(t)for(var i in t)r[i]||delete t[i];else{for(var n in r)if(da.has(n))throw new Error(`Plugins can't have the same ID as any of Bunny core plugin '${n}'`);o=!0,bt[e]=r}var u=Object.keys(r).filter(g=>!g.startsWith("$"));yield Promise.all(u.map(function(){var g=x(function*(E){if(!t||!t[E]||r[E].alwaysFetch||qu(r[E].version,t[E].version))o=!0,bt[e][E]=r[E],yield ma(e,E,!!(t&&Ae[E]));else{var C=yield Ya(`plugins/manifests/${E}.json`);C||(yield ma(e,E,!!(t&&Ae[E])))}});return function(E){return g.apply(this,arguments)}}()));for(var c of u){var f=Hs(`plugins/manifests/${c}.json`);if(f!==void 0){var b=we.get(c);b&&!qu(f.version,b.version)||we.set(c,f)}}return o}),Qu.apply(this,arguments)}function hy(e){return ec.apply(this,arguments)}function ec(){return ec=x(function*(e){Pe(e!==Ln,e,"delete the official repository"),Pe(bt[e],e,"delete a non-registered repository");var r=[];for(var[t,o]of we)!pa(o)||o.parentRepository!==e||(Et(t)&&r.push(cp(t)),r.push(Wa(`plugins/manifests/${t}.json`)),we.delete(t));delete bt[e],yield Promise.all(r),mc()}),ec.apply(this,arguments)}function fc(e,r){return rc.apply(this,arguments)}function rc(){return rc=x(function*(e,r){Pe(Et(e),e,"enable a non-installed plugin"),r&&(yield Po(e)),Ae[e].enabled=!0}),rc.apply(this,arguments)}function Bi(e){Pe(Et(e),e,"disable a non-installed plugin"),Jr.has(e)&&Mi(e),Ae[e].enabled=!1}function gy(e,r){return tc.apply(this,arguments)}function tc(){return tc=x(function*(e,r){var t=we.get(e);Pe(t,e,"install an non-registered plugin"),Pe(!Et(e),e,"install an already installed plugin"),Pe(pa(t),e,"install a core plugin"),yield ma(t.parentRepository,e,!0),Ae[e]={enabled:!0},r&&Po(e)}),tc.apply(this,arguments)}function cp(e){return oc.apply(this,arguments)}function oc(){return oc=x(function*(e){var r=we.get(e);Pe(r,e,"uninstall an unregistered plugin"),Pe(Et(e),e,"uninstall a non-installed plugin"),Pe(pa(r),e,"uninstall a core plugin"),Jr.has(e)&&Mi(e),delete Ae[e],yield Wa(`plugins/storage/${e}.json`),yield uo(`plugins/scripts/${e}.js`)}),oc.apply(this,arguments)}function Po(e){return nc.apply(this,arguments)}function nc(){return nc=x(function*(e,{throwIfDisabled:r=!1,disableWhenThrown:t=!0}={}){var o=we.get(e);Pe(o,e,"start a non-registered plugin"),Pe(Et(e),e,"start a non-installed plugin"),Pe(!r||Ae[e]?.enabled,e,"start a disabled plugin"),Pe(!Jr.has(e),e,"start an already started plugin"),yield Ya(`plugins/storage/${e}.json`);var n;if(pa(o)){try{var i=yield co(o.jsPath),u=globalEvalWithSourceUrl(`(bunny,definePlugin)=>{${i};return plugin?.default ?? plugin;}`,`bunny-plugin/${e}-${o.version}`)}catch(f){throw new Error("An error occured while parsing plugin's code, possibly a syntax error?",{cause:f})}try{var c=ip(e);if(n=u(c.object,f=>Object.assign(f,{manifest:o})),!n)throw new Error(`Plugin '${e}' does not export a valid plugin instance`);lc.set(e,c),Jr.set(e,n)}catch(f){throw new Error("An error occured while instantiating plugin's code",{cause:f})}}else n=da.get(e),Pe(n,e,"start a non-existent core plugin"),Jr.set(e,n);try{n.start?.(),Ae[e].enabled=!0}catch(f){throw t&&Bi(e),new Error("An error occured while starting the plugin",{cause:f})}}),nc.apply(this,arguments)}function Mi(e){var r=Jr.get(e);Pe(r,e,"stop a non-started plugin"),r.stop?.();var t=lc.get(e);t?.disposers.forEach(o=>o()),Jr.delete(e)}function mc(){return ac.apply(this,arguments)}function ac(){return ac=x(function*(){try{yield Zu(Ln)}catch(e){console.error("Failed to update official plugins repository",e)}yield m(Object.keys(bt).map(function(){var e=x(function*(r){r!==Ln&&(yield Zu(r))});return function(r){return e.apply(this,arguments)}}()))}),ac.apply(this,arguments)}function dc(){return ic.apply(this,arguments)}function ic(){return ic=x(function*(){yield ko(bt,Ae);var e=qd();for(var r in e){var{default:t,preenabled:o}=e[r];Ae[r]??={enabled:o??!0},we.set(r,t.manifest),da.set(r,t)}yield mc()}),ic.apply(this,arguments)}function pc(){return sc.apply(this,arguments)}function sc(){return sc=x(function*(){yield ko(bt,Ae),yield m([...we.keys()].map(function(){var e=x(function*(r){Di(r)&&(yield Po(r))});return function(r){return e.apply(this,arguments)}}()))}),sc.apply(this,arguments)}var da,we,Jr,lc,bt,Ae,lp,dy,up,Qt=p(()=>{"use strict";s();l();pe();Ci();ot();Wr();vr();Ht();G();sp();da=new Map,we=new Map,Jr=new Map,lc=new Map,bt=kt("plugins/repositories.json"),Ae=kt("plugins/settings.json"),lp=(e,r)=>We(new URL(r,e),{cache:"no-store"}),dy=(e,r)=>lp(e,r).then(t=>t.text()),up=(e,r)=>lp(e,r).then(t=>t.json())});var hc,fp=p(()=>{"use strict";s();l();me();hc=po("UserStore")});function gc({plugin:e}){var r=El.useStateFromStoresArray([hc],()=>(e.authors?.forEach(u=>u.id&&yy(u.id)),e.authors?.map(u=>hc.getUser(u.id)))),{authors:t}=e,o=[];if(t){var n=function(u){o.push(a(R,{onPress:()=>vy({userId:u.id}),variant:"text-md/medium",children:u.name})),o.push(", ")};for(var i of t)n(i);o.pop()}return _(ga.View,{style:{gap:4},children:[a(ga.View,{children:a(R,{variant:"heading-xl/semibold",children:e.name})}),a(ga.View,{style:{flexDirection:"row",flexShrink:1},children:t?.length&&_(ga.View,{style:{flexDirection:"row",gap:8,alignItems:"center",paddingVertical:4,paddingHorizontal:8,backgroundColor:"#00000016",borderRadius:32},children:[r.length&&a(fl,{size:"xxsmall",names:e.authors?.map(u=>u.name),totalCount:e.authors?.length,children:r.map(u=>a(dl,{size:"xxsmall",user:u}))}),a(R,{variant:"text-md/medium",children:o})]})})]})}var ga,vy,yy,mp=p(()=>{"use strict";s();l();z();ge();Fe();G();ee();fp();ga=U(K()),vy=Ye("showUserProfileActionSheet"),{getUser:yy}=H(()=>L("getUser","fetchProfile"))});var pp={};F(pp,{default:()=>dp});function vc(e){var{onPress:r}=e;return e.onPress&&=()=>{Kt("PluginInfoActionSheet"),r?.()},a(ve,{...e})}function dp({plugin:e,navigation:r}){return e.usePluginState(),a(Pr,{children:_(va.ScrollView,{contentContainerStyle:{gap:12,marginBottom:12},children:[_(va.View,{style:{flexDirection:"row",alignItems:"center",gap:8,paddingVertical:24,justifyContent:"space-between",width:"100%"},children:[a(gc,{plugin:e}),a(ml,{items:[{label:"Details",iconSource:y("CircleInformationIcon-primary"),action:()=>{}},{label:"Clear Data",iconSource:y("FileIcon"),variant:"destructive",action:()=>{}},{label:"Uninstall",iconSource:y("TrashIcon"),variant:"destructive",action:()=>{}}],children:t=>a(ve,{...t,icon:y("MoreHorizontalIcon"),variant:"secondary",size:"sm"})})]}),_(va.View,{style:{flexDirection:"row",justifyContent:"space-around",alignContent:"center"},children:[a(vc,{label:"Configure",variant:"secondary",disabled:!e.getPluginSettingsComponent(),icon:y("WrenchIcon"),onPress:()=>{r.push("BUNNY_CUSTOM_PAGE",{title:e.name,render:e.getPluginSettingsComponent()})}}),a(vc,{label:"Refetch",variant:"secondary",icon:y("RetryIcon"),onPress:()=>{Po(e.id)}}),a(vc,{label:"Copy URL",variant:"secondary",icon:y("LinkIcon"),onPress:()=>{}})]}),_(ye,{children:[a(R,{variant:"text-md/semibold",color:"text-primary",style:{marginBottom:4},children:"Description"}),a(R,{variant:"text-md/medium",children:e.description})]})]})})}var va,hp=p(()=>{"use strict";s();l();z();Qt();le();Ao();ee();va=U(K());mp()});function yc(e){return{id:e.id,name:e.display.name,description:e.display.description,authors:e.display.authors,getBadges(){return[{source:{uri:Jt}}]},isEnabled:()=>Di(e.id),isInstalled:()=>e.id in Ae,usePluginState(){it([Ae])},toggle(r){try{r?fc(e.id,!0):Bi(e.id)}catch(t){console.error(t)}},resolveSheetComponent(){return Promise.resolve().then(()=>(hp(),pp))},getPluginSettingsComponent(){return cc(e.id)}}}var gp=p(()=>{"use strict";s();l();ia();Qt();Wr()});var yp={};F(yp,{default:()=>vp});function vp({plugin:e,navigation:r}){e.usePluginState();var t=V.plugins[e.id],o=e.getPluginSettingsComponent();return a(Pr,{children:_(ya.ScrollView,{children:[_(ya.View,{style:{flexDirection:"row",alignItems:"center",paddingVertical:24},children:[a(R,{variant:"heading-xl/semibold",children:e.name}),a(ya.View,{style:{marginLeft:"auto"},children:o&&a(Y,{size:"md",text:"Configure",variant:"secondary",icon:y("WrenchIcon"),onPress:()=>{Kt("PluginInfoActionSheet"),r.push("BUNNY_CUSTOM_PAGE",{title:e.name,render:o})}})})]}),_(Vt.Group,{children:[a(Vt,{label:h.REFETCH,icon:a(T.Icon,{source:y("RetryIcon")}),onPress:x(function*(){t.enabled&&V.stopPlugin(e.id,!1);try{yield V.fetchPlugin(e.id),$(h.PLUGIN_REFETCH_SUCCESSFUL,y("toast_image_saved"))}catch{$(h.PLUGIN_REFETCH_FAILED,y("Small"))}t.enabled&&(yield V.startPlugin(e.id)),Kt("PluginInfoActionSheet")})}),a(Vt,{label:h.COPY_URL,icon:a(T.Icon,{source:y("LinkIcon")}),onPress:()=>{Me.setString(e.id),$.showCopyToClipboard()}}),a(Vt,{label:t.update?h.DISABLE_UPDATES:h.ENABLE_UPDATES,icon:a(T.Icon,{source:y("DownloadIcon")}),onPress:()=>{t.update=!t.update,$(lr("TOASTS_PLUGIN_UPDATE",{update:t.update,name:e.name}),y("toast_image_saved"))}}),a(Vt,{label:h.CLEAR_DATA,icon:a(T.Icon,{variant:"danger",source:y("CopyIcon")}),variant:"danger",onPress:()=>Hr({title:h.HOLD_UP,content:lr("ARE_YOU_SURE_TO_CLEAR_DATA",{name:e.name}),confirmText:h.CLEAR,cancelText:h.CANCEL,confirmColor:"red",onConfirm:x(function*(){t.enabled&&V.stopPlugin(e.id,!1);try{yield V.fetchPlugin(e.id),$(h.PLUGIN_REFETCH_SUCCESSFUL,y("toast_image_saved"))}catch{$(h.PLUGIN_REFETCH_FAILED,y("Small"))}var n;try{Ga(e.id),n=["CLEAR_DATA_SUCCESSFUL","trash"]}catch{n=["CLEAR_DATA_FAILED","Small"]}$(lr(n[0],{name:e.name}),y(n[1])),t.enabled&&(yield V.startPlugin(e.id)),Kt("PluginInfoActionSheet")})})}),a(Vt,{label:h.DELETE,icon:a(T.Icon,{variant:"danger",source:y("TrashIcon")}),variant:"danger",onPress:()=>Hr({title:h.HOLD_UP,content:lr("ARE_YOU_SURE_TO_DELETE_PLUGIN",{name:e.name}),confirmText:h.DELETE,cancelText:h.CANCEL,confirmColor:"red",onConfirm:()=>{try{V.removePlugin(e.id)}catch(n){$(String(n),y("Small"))}Kt("PluginInfoActionSheet")}})})]})]})})}var ya,_p=p(()=>{"use strict";s();l();pe();z();xe();rn();xt();be();le();G();ee();Ao();Dr();ya=U(K())});function _c(e){return{id:e.id,name:e.manifest.name,description:e.manifest.description,authors:e.manifest.authors,icon:e.manifest.vendetta?.icon,getBadges(){return[]},isEnabled:()=>e.enabled,isInstalled:()=>!!(e&&V.plugins[e.id]),usePluginState(){Q(V.plugins[e.id])},toggle(r){r?V.startPlugin(e.id):V.stopPlugin(e.id)},resolveSheetComponent(){return Promise.resolve().then(()=>(_p(),yp))},getPluginSettingsComponent(){return V.getSettings(e.id)}}}var xp=p(()=>{"use strict";s();l();xt();be()});var wp={};F(wp,{default:()=>Ep});function xy(e){var r=e.useItems();return a(Ro,{CardComponent:Bu,title:h.PLUGINS,searchKeywords:["name","description",t=>t.authors?.map(o=>typeof o=="string"?o:o.name).join()||""],sortOptions:{"Name (A-Z)":(t,o)=>t.name.localeCompare(o.name),"Name (Z-A)":(t,o)=>o.name.localeCompare(t.name)},safeModeHint:{message:h.SAFE_MODE_NOTICE_PLUGINS},items:r,...e})}function Ep(){Q(D);var e=_e.useNavigation();return a(xy,{useItems:()=>{Q(V.plugins),it([Ae]);var r=Object.values(V.plugins).map(_c),t=[...we.values()].filter(o=>Et(o.id)&&!uc(o.id)).map(yc);return[...r,...t]},ListHeaderComponent:()=>{var r=Object.values(V.plugins).filter(t=>!t.id.startsWith(Ir)&&!t.id.startsWith(go));return r.length?a(an.View,{style:{marginVertical:12,marginHorizontal:10},children:a(ye,{border:"strong",children:_(an.View,{style:{flex:1,justifyContent:"center",alignItems:"center",flexDirection:"row"},children:[_(an.View,{style:{gap:6,flexShrink:1},children:[a(R,{variant:"heading-md/bold",children:"Unproxied Plugins Found"}),a(R,{variant:"text-sm/medium",color:"text-muted",children:"Plugins installed from unproxied sources may run unverified code in this app without your awareness."})]}),a(an.View,{style:{marginLeft:"auto"},children:a(ve,{size:"sm",variant:"secondary",icon:y("CircleInformationIcon-primary"),style:{marginLeft:8},onPress:()=>{e.push("BUNNY_CUSTOM_PAGE",{title:"Unproxied Plugins",render:()=>a(Vn,{data:r,contentContainerStyle:{padding:8},ItemSeparatorComponent:()=>a(an.View,{style:{height:8}}),renderItem:({item:t})=>a(ye,{children:a(R,{variant:"heading-md/semibold",children:t.id})})})})}})})]})})}):null},ListFooterComponent:()=>!1,installAction:{label:"Install a plugin",fetchFn:function(){var r=x(function*(t){if(!t.startsWith(Ir)&&!t.startsWith(go)&&!D.developerSettings)Sp("bunny-plugin-unproxied-confirmation",a(bp,{title:"Hold On!",content:"You're trying to install a plugin from an unproxied external source. This means you're trusting the creator to run their code in this app without your knowledge. Are you sure you want to continue?",extraContent:a(ye,{children:a(R,{variant:"text-md/bold",children:t})}),actions:_(_y,{children:[a(xc,{text:"Continue",variant:"primary",onPress:()=>{V.installPlugin(t).then(()=>$(h.TOASTS_INSTALLED_PLUGIN,y("Check"))).catch(o=>Sp("bunny-plugin-install-failed",a(bp,{title:"Install Failed",content:`Unable to install plugin from '${t}':`,extraContent:a(ye,{children:a(R,{variant:"text-md/normal",children:o instanceof Error?o.message:String(o)})}),actions:a(xc,{text:"Okay",variant:"primary"})})))}}),a(xc,{text:"Cancel",variant:"secondary"})]})}));else return yield V.installPlugin(t)});return function(t){return r.apply(this,arguments)}}()}})}var an,Sp,bp,_y,xc,Ap=p(()=>{"use strict";s();l();pe();z();xe();wi();Ld();xt();be();Qt();le();Ee();Wr();Dr();Ht();ge();Fe();G();ee();an=U(K());gp();xp();({openAlert:Sp}=H(()=>L("openAlert","dismissAlert"))),{AlertModal:bp,AlertActions:_y,AlertActionButton:xc}=H(()=>L("AlertModal","AlertActions"))});function Sc(e){var r=Ey();return a(ye,{children:_(se,{spacing:16,children:[_(No.View,{style:{flexDirection:"row",alignItems:"center"},children:[_(No.View,{style:r.headerLeading,children:[a(R,{style:r.headerLabel,children:e.headerLabel}),e.headerSublabel&&a(R,{style:r.headerSubtitle,children:e.headerSublabel})]}),_(No.View,{style:[r.headerTrailing,{marginLeft:"auto"}],children:[_(No.View,{style:r.actions,children:[e.overflowActions&&a(ve,{onPress:()=>by({key:"CardOverflow",header:{title:e.overflowTitle,icon:e.headerIcon&&a(Hn.Icon,{style:{marginRight:8},source:y(e.headerIcon)}),onClose:()=>Sy()},options:e.overflowActions?.map(t=>({...t,icon:y(t.icon)}))}),size:"sm",variant:"secondary",icon:y("CircleInformationIcon-primary")}),e.actions?.map(({icon:t,onPress:o,disabled:n})=>a(ve,{onPress:o,disabled:n,size:"sm",variant:"secondary",icon:y(t)}))]}),e.toggleType&&(e.toggleType==="switch"?a(ll,{value:e.toggleValue(),onValueChange:e.onToggleChange}):a(No.TouchableOpacity,{onPress:()=>{e.onToggleChange?.(!e.toggleValue())},children:a(ul,{selected:e.toggleValue()})}))]})]}),e.descriptionLabel&&a(R,{variant:"text-md/medium",children:e.descriptionLabel})]})})}var No,Sy,by,Ey,Tp=p(()=>{"use strict";s();l();z();le();ge();ee();me();Jo();Xr();No=U(K()),{hideActionSheet:Sy}=H(()=>L("openLazy","hideActionSheet")),{showSimpleActionSheet:by}=H(()=>L("showSimpleActionSheet")),Ey=Fr({card:{backgroundColor:Je?.CARD_SECONDARY_BG,borderRadius:12,overflow:"hidden"},header:{padding:0},headerLeading:{flexDirection:"column",justifyContent:"center",scale:1.2},headerTrailing:{display:"flex",flexDirection:"row",gap:15,alignItems:"center"},headerLabel:{..._t["heading-md/semibold"],color:Je.TEXT_NORMAL},headerSubtitle:{..._t["text-md/semibold"],color:Je.TEXT_MUTED},descriptionLabel:{..._t["text-md/semibold"],color:Je.TEXT_NORMAL},actions:{flexDirection:"row-reverse",alignItems:"center",gap:5},iconStyle:{tintColor:Je.LOGO_PRIMARY,opacity:.2,height:64,width:64,left:void 0,right:"30%",top:"-10%"}})});function Cp(e,r){try{dt(e?r:null)}catch(t){console.error("Error while selectAndApply,",t)}}function bc({item:e}){Q(e);var[r,t]=React.useState(!1);if(r)return null;var{authors:o}=e.data;return a(Sc,{headerLabel:e.data.name,headerSublabel:o?`by ${o.map(n=>n.name).join(", ")}`:"",descriptionLabel:e.data.description??"No description.",toggleType:D.safeMode?.enabled?void 0:"radio",toggleValue:()=>fe[e.id].selected,onToggleChange:n=>{Cp(n,e)},overflowTitle:e.data.name,overflowActions:[{icon:"ic_sync_24px",label:h.REFETCH,onPress:()=>{So(e.id,e.selected).then(()=>{$(h.THEME_REFETCH_SUCCESSFUL,y("toast_image_saved"))}).catch(()=>{$(h.THEME_REFETCH_FAILED,y("Small"))})}},{icon:"copy",label:h.COPY_URL,onPress:()=>{Me.setString(e.id),$.showCopyToClipboard()}},{icon:"ic_message_delete",label:h.DELETE,isDestructive:!0,onPress:()=>Hr({title:h.HOLD_UP,content:lr("ARE_YOU_SURE_TO_DELETE_THEME",{name:e.data.name}),confirmText:h.DELETE,cancelText:h.CANCEL,confirmColor:"red",onConfirm:()=>{bo(e.id).then(n=>{t(!0),n&&Cp(!1,e)}).catch(n=>{$(n.message,y("Small"))})}})}]})}var Rp=p(()=>{"use strict";s();l();z();xe();Tp();rn();be();sr();le();Ee();G();Dr()});var Np={};F(Np,{default:()=>Pp});function Pp(){return Q(D),Q(fe),a(Ro,{title:h.THEMES,searchKeywords:["data.name","data.description",e=>e.data.authors?.map(r=>r.name).join(", ")??""],sortOptions:{"Name (A-Z)":(e,r)=>e.data.name.localeCompare(r.data.name),"Name (Z-A)":(e,r)=>r.data.name.localeCompare(e.data.name)},installAction:{label:"Install a theme",fetchFn:mt},items:Object.values(fe),safeModeHint:{message:lr("SAFE_MODE_NOTICE_THEMES",{enabled:!!D.safeMode?.currentThemeId}),footer:D.safeMode?.currentThemeId&&a(Y,{size:"small",text:h.DISABLE_THEME,onPress:()=>delete D.safeMode?.currentThemeId,style:{marginTop:8}})},CardComponent:bc,OptionsActionSheetComponent:()=>(it([ir]),_(Pr,{children:[a(kn,{title:"Options"}),_(Ip.View,{style:{paddingVertical:20,gap:12},children:[_(Xa,{title:"Override Theme Type",value:ir.type??"auto",hasIcons:!0,onChange:e=>{ir.type=e!=="auto"?e:void 0,pt()?.data&&$t(pt().data,{update:!0})},children:[a(yo,{icon:a(vo,{source:y("RobotIcon")}),label:"Auto",value:"auto"}),a(yo,{icon:a(vo,{source:y("ThemeDarkIcon")}),label:"Dark",value:"dark"}),a(yo,{icon:a(vo,{source:y("ThemeLightIcon")}),label:"Light",value:"light"})]}),_(Xa,{title:"Chat Background",value:ir.customBackground??"shown",hasIcons:!0,onChange:e=>{ir.customBackground=e!=="shown"?e:null},children:[a(yo,{icon:a(vo,{source:y("ImageIcon")}),label:"Show",value:"shown"}),a(yo,{icon:a(vo,{source:y("DenyIcon")}),label:"Hide",value:"hidden"})]})]})]}))})}var Ip,Lp=p(()=>{"use strict";s();l();z();xe();wi();Rp();be();sr();Bn();xo();le();Ee();Wr();ee();Ip=U(K())});var Sa={};F(Sa,{fonts:()=>te,installFont:()=>wy,removeFont:()=>ji,saveFont:()=>sn,selectFont:()=>xa,updateFont:()=>Fi,updateFonts:()=>Pc,validateFont:()=>_a});function Op(e){return Ec.apply(this,arguments)}function Ec(){return Ec=x(function*(e){if(!e&&e!==null)throw new Error("Arg font must be a valid object or null");e?yield wr("fonts.json",JSON.stringify(e)):yield uo("fonts.json")}),Ec.apply(this,arguments)}function _a(e){if(!e||typeof e!="object")throw new Error("URL returned a null/non-object JSON");if(typeof e.spec!="number")throw new Error("Invalid font 'spec' number");if(e.spec!==1)throw new Error("Only fonts which follows spec:1 are supported");var r=["name","main"];if(r.some(t=>!e[t]))throw new Error(`Font is missing one of the fields: ${r}`);if(e.name.startsWith("__"))throw new Error("Font names cannot start with __");if(e.name in te)throw new Error(`There is already a font named '${e.name}' installed`)}function sn(e){return wc.apply(this,arguments)}function wc(){return wc=x(function*(e,r=!1){var t;if(typeof e=="string")try{t=yield(yield We(e)).json()}catch(n){throw new Error(`Failed to fetch fonts at ${e}`,{cause:n})}else t=e;_a(t);var o=yield m(Object.entries(t.main).map(function(){var n=x(function*([i,u]){var c=u.split(".").pop();c!=="ttf"&&c!=="otf"&&(c="ttf");var f=`downloads/fonts/${t.name}/${i}.${c}`;(yield tt(f))||(yield as(u,f))});return function(i){return n.apply(this,arguments)}}())).then(n=>n.map(i=>i.status==="fulfilled"?void 0:i.reason));if(o.some(n=>n))throw o;return te[t.name]=t,r&&Op(te[t.name]),t}),wc.apply(this,arguments)}function Fi(e){return Ac.apply(this,arguments)}function Ac(){return Ac=x(function*(e){var r={...e};r.source&&(r={...yield fetch(r.source).then(o=>o.json()),name:e.name,source:e.source});var t=te.__selected===e.name;yield ji(e.name),yield sn(r,t)}),Ac.apply(this,arguments)}function wy(e){return Tc.apply(this,arguments)}function Tc(){return Tc=x(function*(e,r=!1){var t=yield sn(e);r&&(yield xa(t.name))}),Tc.apply(this,arguments)}function xa(e){return Cc.apply(this,arguments)}function Cc(){return Cc=x(function*(e){if(e&&!(e in te))throw new Error("Selected font does not exist!");e?te.__selected=e:delete te.__selected,yield Op(e==null?null:te[e])}),Cc.apply(this,arguments)}function ji(e){return Rc.apply(this,arguments)}function Rc(){return Rc=x(function*(e){var r=te.__selected===e;r&&(yield xa(null)),delete te[e];try{yield ns(`downloads/fonts/${e}`)}catch{}}),Rc.apply(this,arguments)}function Pc(){return Ic.apply(this,arguments)}function Ic(){return Ic=x(function*(){yield jt(te),yield m(Object.keys(te).map(e=>sn(te[e],te.__selected===e)))}),Ic.apply(this,arguments)}var te,Lo=p(()=>{"use strict";s();l();pe();be();ot();vr();te=Cr(ar(Rr("BUNNY_FONTS")))});function Lc(e,r){e&&te[e].source?Ay("revenge-fonts-detach-source-confirmation",a(Ty,{title:"Detach font pack URL?",content:"You need to detach the font pack URL from this font pack before you can manually edit its font entries. Do you want to detach the font pack URL?",actions:_(se,{children:[a(Dp,{text:"Detach",variant:"destructive",onPress:()=>{delete te[e].source,r()}}),a(Dp,{text:h.CANCEL,variant:"secondary"})]})})):r()}function Cy(e){var r=e.map(o=>{var{pathname:n}=new URL(o),i=n.replace(/\.[^/.]+$/,"");return i.split("/").pop()}).filter(Boolean),t=r.reduce((o,n)=>n.length<o.length?n:o,r[0]||"");return t?.replace(/-[A-Za-z]*$/,"")||null}function Ry({fonts:e,setName:r}){var t=pt().data,o=t.fonts,[n,i]=(0,Te.useState)(Cy(Object.values(o))),[u,c]=(0,Te.useState)(void 0);return _(wt.View,{style:{padding:8,paddingBottom:16,gap:12},children:[a(He,{autoFocus:!0,size:"md",label:h.FONT_NAME,value:n,placeholder:n||"Whitney",onChange:i,errorMessage:u,state:u?"error":void 0}),a(R,{variant:"text-xs/normal",color:"text-muted",children:lr("THEME_EXTRACTOR_DESC",{fonts:Object.keys(o).join(h.SEPARATOR)})}),a(Y,{size:"md",variant:"primary",text:h.EXTRACT,disabled:!n,onPress:()=>{if(n)try{_a({spec:1,name:n,main:o}),r(n),Object.assign(e,o),Ui.hideActionSheet()}catch(f){c(String(f))}}})]})}function Iy({fonts:e,setName:r,setSource:t}){var[o,n]=(0,Te.useState)(""),[i,u]=(0,Te.useState)(!1),[c,f]=(0,Te.useState)(void 0);return _(wt.View,{style:{padding:8,paddingBottom:16,gap:12},children:[a(He,{autoFocus:!0,size:"md",label:"Font Link",value:o,placeholder:"https://link.to/font/pack.json",onChange:n,errorMessage:c,state:c?"error":void 0}),a(Y,{size:"md",variant:"primary",text:"Import",disabled:!o||i,loading:i,onPress:()=>{u(!0),x(function*(){var b=yield We(o,{cache:"no-store"}),g=yield b.json();_a(g),r(g.name),t(o),Object.assign(e,g.main)})().then(()=>Ui.hideActionSheet()).catch(b=>f(String(b))).finally(()=>u(!1))}})]})}function Py(e){var[r,t]=(0,Te.useState)(e.name),[o,n]=(0,Te.useState)(e.fontEntries[e.name]);return _(wt.View,{style:{padding:8,paddingBottom:16,gap:12},children:[a(He,{autoFocus:!0,size:"md",label:"Family Name (to override)",value:r,placeholder:"ggsans-Bold",onChange:t}),a(He,{size:"md",label:"Font URL",value:o,placeholder:"https://link.to/the/font.ttf",onChange:n}),a(Y,{size:"md",variant:"primary",text:"Apply",onPress:()=>{delete e.fontEntries[e.name],e.fontEntries[r]=o,e.onChange(),Ui.hideActionSheet()}})]})}function Nc(e,r,t){Ui.openLazy(Promise.resolve({default:()=>a(Se,{children:_(Pr,{children:[a(kn,{title:"Import Font"}),a(e,{fonts:r,...t})]})})}),"FontEditorActionSheet")}function Ny({fontName:e,fontEntry:r}){var t=(0,Te.useRef)(),o=(0,Te.useRef)(),[n,i]=(0,Te.useState)(!1),[u,c]=(0,Te.useState)();return _(wt.View,{style:{flexDirection:"row",gap:8,justifyContent:"flex-start"},children:[a(wt.View,{style:{flex:1},children:a(He,{isRound:!0,size:"md",label:n?t.current:void 0,placeholder:n?"https://path.to/the/file.ttf":"PostScript name (e.g. ggsans-Bold)",leadingIcon:()=>n?null:a(T.Icon,{source:y("PlusSmallIcon")}),leadingText:n?t.current:"",onChange:f=>(n?o:t).current=f,errorMessage:u,state:u?"error":void 0})}),n&&a(ve,{size:"md",variant:"secondary",onPress:()=>{t.current="",i(!1)},icon:y("TrashIcon")}),a(ve,{size:"md",variant:"primary",onPress:()=>Lc(e,()=>{if(!n&&t.current)i(!0);else if(n&&t.current&&o.current)try{var f=new URL(o.current);if(!f.protocol||!f.host)throw"Invalid URL";r[t.current]=o.current,t.current=void 0,o.current=void 0,i(!1)}catch(b){c(String(b))}}),icon:y(n?"PlusSmallIcon":"ArrowLargeRightIcon")})]})}function ba(e){var[r,t]=(0,Te.useState)(e.name),[o,n]=(0,Te.useState)(e.name&&te[e.name].source),[i,u]=(0,Te.useState)(!1),[c,f]=(0,Te.useState)(),b=(0,Te.useMemo)(()=>In(e.name?{...te[e.name].main}:{}).proxy,[e.name]),g=Q(b),E=_e.useNavigation(),[,C]=React.useReducer(()=>({}),0);return a(wt.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:_(se,{style:{paddingVertical:24,paddingHorizontal:12},spacing:12,children:[e.name?_(Be,{title:"Actions",children:[a(T,{label:"Refetch fonts from source",icon:a(T.Icon,{source:y("RetryIcon")}),onPress:x(function*(){yield Fi(te[e.name]),E.goBack()})}),a(T,{variant:"danger",label:"Delete font pack",icon:a(T.Icon,{variant:"danger",source:y("TrashIcon")}),onPress:()=>ji(e.name).then(()=>E.goBack())})]}):_(Be,{title:"Import",children:[pt()?.data?.fonts&&a(T,{label:h.LABEL_EXTRACT_FONTS_FROM_THEME,subLabel:h.DESC_EXTRACT_FONTS_FROM_THEME,icon:a(T.Icon,{source:y("HammerIcon")}),onPress:()=>Nc(Ry,g,{setName:t})}),a(T,{label:"Import font entries from a link",subLabel:"Directly import from a link with a pre-configured JSON file",icon:a(T.Icon,{source:y("LinkIcon")}),onPress:()=>Nc(Iy,g,{setName:t,setSource:n})})]}),a(He,{size:"lg",value:r,label:h.FONT_NAME,placeholder:"Whitney",onChange:t}),e.name&&te[e.name].source&&a(He,{size:"lg",value:o,label:"Font Pack URL",onChange:n}),_(Be,{title:"Font Entries",children:[Object.entries(g).map(([I,q],de)=>{var cr=c?.[de];return a(T,{label:I,subLabel:cr?a(R,{variant:"text-xs/medium",color:"text-danger",children:cr.message}):q,trailing:_(se,{spacing:8,direction:"horizontal",children:[a(ve,{size:"sm",variant:"secondary",icon:y("PencilIcon"),onPress:()=>Lc(e.name,()=>Nc(Py,g,{name:I,fontEntries:g,onChange:()=>{f(void 0),C()}}))}),a(ve,{size:"sm",variant:"secondary",icon:y("TrashIcon"),onPress:()=>Lc(e.name,()=>{delete g[I],f(void 0)})})]})})}),a(T,{label:a(Ny,{fontName:e.name,fontEntry:g})})]}),c&&a(R,{variant:"text-sm/medium",color:"text-danger",children:"Some font entries cannot be imported. Please modify the entries and try again."}),a(wt.View,{style:{flexDirection:"row",justifyContent:"flex-end",bottom:0,left:0},children:a(Y,{size:"lg",loading:i,disabled:i||!r||Object.keys(g).length===0,variant:"primary",text:e.name?"Save":"Import",onPress:x(function*(){r&&(f(void 0),u(!0),e.name?(Object.assign(te[e.name],{name:r,main:g}),Fi(te[e.name]).then(()=>E.goBack()).catch(I=>f(I)).finally(()=>u(!1))):sn({spec:1,name:r,main:g,source:o}).then(()=>E.goBack()).catch(I=>f(I)).finally(()=>u(!1)))}),icon:y(e.name?"toast_image_saved":"DownloadIcon"),style:{marginLeft:8}})})]})})}var Te,wt,Ui,Ay,Ty,Dp,Oc=p(()=>{"use strict";s();l();pe();z();xe();be();Lo();sr();le();vr();ge();G();ee();me();Sr();Te=U(Ur()),wt=U(K()),Ui=N("hideActionSheet"),{openAlert:Ay}=H(()=>L("openAlert","dismissAlert")),{AlertModal:Ty,AlertActionButton:Dp}=H(()=>L("AlertModal","AlertActions"))});var Mp=zr((fD,Bp)=>{s();l();Bp.exports=Ft()["@shopify/react-native-skia"]});function Oy({font:e}){var r=Ly(Kr.colors.TEXT_NORMAL),{fontFamily:t,fontSize:o}=_t["text-md/medium"],n=t.split(/,/g)[0],i=un.useFont(e.main[n])?.getTypeface(),u=(0,Fp.useMemo)(()=>{if(!i)return null;var c=SkiaApi.TypefaceFontProvider.Make();return c.registerFont(i,n),SkiaApi.ParagraphBuilder.Make({},c).pushStyle({color:SkiaApi.Color(r),fontFamilies:[n],fontSize:o}).addText("Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.").pop().build()},[i]);return a(ln.View,{style:{height:64},children:i?a(un.Canvas,{style:{height:64},children:a(un.Paragraph,{paragraph:u,x:0,y:0,width:300})}):a(ln.View,{style:{justifyContent:"center",alignItems:"center"},children:a(R,{color:"text-muted",variant:"heading-lg/semibold",children:"Loading..."})})})}function Dc({item:e}){Q(te);var r=_e.useNavigation(),t=te.__selected===e.name;return a(ye,{children:_(se,{spacing:16,children:[_(ln.View,{style:{flexDirection:"row",alignItems:"center"},children:[a(ln.View,{children:a(R,{variant:"heading-lg/semibold",children:e.name})}),a(ln.View,{style:{marginLeft:"auto"},children:_(se,{spacing:12,direction:"horizontal",children:[a(ve,{onPress:()=>{r.push("BUNNY_CUSTOM_PAGE",{title:"Edit Font",render:()=>a(ba,{name:e.name})})},size:"sm",variant:"secondary",disabled:t,icon:y("WrenchIcon")}),a(Y,{size:"sm",variant:t?"secondary":"primary",text:t?"Unapply":"Apply",onPress:x(function*(){yield xa(t?null:e.name),Hr({title:h.HOLD_UP,content:"Reload Discord to apply changes?",confirmText:h.RELOAD,cancelText:h.CANCEL,confirmColor:"red",onConfirm:dr.reload})})})]})})]}),a(Oy,{font:e})]})})}var un,Fp,ln,Ly,jp=p(()=>{"use strict";s();l();pe();z();xe();rn();be();Lo();le();Er();ge();Fe();G();ee();un=U(Mp());Xr();Fp=U(Ur()),ln=U(K());Oc();({useToken:Ly}=H(()=>L("useToken")))});var kp={};F(kp,{default:()=>Up});function Up(){Q(D),Q(te);var e=_e.useNavigation();return a(Ro,{title:h.FONTS,searchKeywords:["name","description"],sortOptions:{"Name (A-Z)":(r,t)=>r.name.localeCompare(t.name),"Name (Z-A)":(r,t)=>t.name.localeCompare(r.name)},items:Object.values(te),safeModeHint:{message:h.SAFE_MODE_NOTICE_FONTS},CardComponent:Dc,installAction:{label:"Install a font",onPress:()=>{e.push("BUNNY_CUSTOM_PAGE",{title:"Import Font",render:()=>a(ba,{})})}}})}var Hp=p(()=>{"use strict";s();l();z();xe();wi();Oc();be();Lo();Ee();G();jp()});function Vp(e,r){var[t,o]=(0,cn.useState)(2),n=()=>tt(e,{prefix:r}).then(u=>o(u?1:0)).catch(()=>o(3)),i=(0,cn.useMemo)(()=>new Proxy(dn,{get(u,c,f){var b=Reflect.get(u,c,f);if(typeof b=="function")return(...g)=>{var E=(n(),b(...g));return E?.constructor?.name==="Promise"&&(o(2),E.finally(n)),E}}}),[]);return(0,cn.useEffect)(()=>void n(),[]),[t,i]}var cn,Zr,zp=p(()=>{"use strict";s();l();ot();cn=U(Ur());(function(e){e[e.FALSE=0]="FALSE",e[e.TRUE=1]="TRUE",e[e.LOADING=2]="LOADING",e[e.ERROR=3]="ERROR"})(Zr||(Zr={}))});function jc({asset:e}){return a(T,{variant:Bc.has(e.type)?"default":"danger",label:e.name,subLabel:`Index: ${e.id} Type: ${e.type}`,icon:Bc.has(e.type)?a(Fc.Image,{source:e.id,style:{width:32,height:32}}):a(T.Icon,{variant:"danger",source:y(e.type in Mc?Mc[e.type]:Mc.default)}),onPress:()=>Dy("revenge-asset-display-details",a(By,{title:e.name,content:`Index: ${e.id}
Module ID: ${e.moduleId}
Type: ${e.type}`,extraContent:Bc.has(e.type)?a(Fc.Image,{resizeMode:"contain",source:e.id,style:{flex:1,width:"auto",height:192}}):_(R,{variant:"text-sm/medium",color:"text-danger",style:{width:"100%",textAlign:"center"},children:["Asset type ",e.type.toUpperCase()," is not supported for preview."]}),actions:_(se,{children:[a(Gp,{text:"Copy asset name",variant:"primary",onPress:()=>$p(e.name)}),a(Gp,{text:"Copy asset index",variant:"secondary",onPress:()=>$p(e.id.toString())})]})}))})}var Fc,Dy,By,Gp,Bc,Mc,$p,Yp=p(()=>{"use strict";s();l();z();le();ge();Fe();G();ee();Dr();Fc=U(K()),{openAlert:Dy}=H(()=>L("openAlert","dismissAlert")),{AlertModal:By,AlertActionButton:Gp}=H(()=>L("AlertModal","AlertActions")),Bc=new Set(["png","jpg","svg"]),Mc={jsona:"ic_file_text",lottie:"ic_image",webm:"CirclePlayIcon-primary",ttf:"ic_add_text",default:"UnknownGameIcon"};$p=e=>{Me.setString(e),$.showCopyToClipboard()}});function Uc(){var[e,r]=React.useState(""),t=(0,Wp.useMemo)(()=>Array.from(Wt()),[]);return a(Se,{children:_(Ea.View,{style:{flex:1},children:[a(Xt,{style:{margin:10},onChangeText:o=>r(o)}),_(Ea.View,{style:{flex:1,borderRadius:16,paddingHorizontal:12,overflow:"hidden",backgroundColor:"transparent"},children:[a(R,{variant:"text-sm/medium",color:"text-danger",style:{marginBottom:16},children:"Some assets types cannot be displayed and will be marked in red."}),a(Ea.FlatList,{data:t.filter(o=>o.name.includes(e)||o.id.toString()===e),renderItem:({item:o})=>a(jc,{asset:o}),contentContainerStyle:{overflow:"hidden",backgroundColor:"transparent",borderRadius:16},keyExtractor:o=>o.name})]})]})})}var Wp,Ea,Kp=p(()=>{"use strict";s();l();z();Yp();le();ee();Sr();Wp=U(Ur()),Ea=U(K())});var Zp={};F(Zp,{default:()=>Jp});function Jp(){var[e,r]=Vp("preloads/reactDevtools.js"),t=Hy(),o=_e.useNavigation();return Q(D),Q(xr),a(Se,{children:a(ki.ScrollView,{style:{flex:1},contentContainerStyle:{paddingBottom:38},children:_(se,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24,children:[a(He,{label:h.DEBUGGER_URL,placeholder:"127.0.0.1:9090",size:"md",leadingIcon:()=>a(gl,{style:t.leadingText,children:"ws://"}),defaultValue:D.debuggerUrl,onChange:n=>D.debuggerUrl=n}),_(Be,{title:h.DEBUG,children:[a(T,{label:h.CONNECT_TO_DEBUG_WEBSOCKET,icon:a(T.Icon,{source:y("copy")}),onPress:()=>Qn(D.debuggerUrl)}),qn()&&a(ct,{children:a(T,{label:h.CONNECT_TO_REACT_DEVTOOLS,icon:a(T.Icon,{source:y("ic_badge_staff")}),onPress:()=>window[mm()||"__vendetta_rdc"]?.connectToDevTools({host:D.debuggerUrl.split(":")?.[0],resolveRNStyle:ki.StyleSheet.flatten})})})]}),Ul()&&a(ct,{children:_(Be,{title:"Loader config",children:[a(ft,{label:h.LOAD_FROM_CUSTOM_URL,subLabel:h.LOAD_FROM_CUSTOM_URL_DEC,icon:a(T.Icon,{source:y("copy")}),value:xr.customLoadUrl.enabled,onValueChange:n=>{xr.customLoadUrl.enabled=n}}),xr.customLoadUrl.enabled&&a(T,{label:a(He,{defaultValue:xr.customLoadUrl.url,size:"md",onChange:n=>xr.customLoadUrl.url=n,placeholder:"http://localhost:4040/vendetta.js",label:h.BUNNY_URL})}),qn()&&Xe()&&a(ft,{label:h.LOAD_REACT_DEVTOOLS,subLabel:`${h.VERSION}: ${dm()}`,icon:a(T.Icon,{source:y("ic_badge_staff")}),value:xr.loadReactDevTools,onValueChange:n=>{xr.loadReactDevTools=n}})]})}),_(Be,{title:"Other",children:[a(T,{label:h.CLEAR_BUNDLE,subLabel:h.CLEAR_BUNDLE_DESC,icon:a(T.Icon,{source:y("trash")}),onPress:()=>{jy("revenge-clear-bundle-reload-confirmation",a(Uy,{title:h.MODAL_RELOAD_REQUIRED,content:h.MODAL_RELOAD_REQUIRED_DESC,actions:_(se,{children:[a(qp,{text:h.RELOAD,variant:"destructive",onPress:()=>Xp.NativeModules.BundleUpdaterManager.reload()}),a(qp,{text:h.CANCEL,variant:"secondary"})]})}))}}),a(T,{arrow:!0,label:h.ASSET_BROWSER,icon:a(T.Icon,{source:y("ic_image")}),trailing:T.Arrow,onPress:()=>o.push("BUNNY_CUSTOM_PAGE",{title:h.ASSET_BROWSER,render:Uc})}),a(T,{arrow:!0,label:h.ERROR_BOUNDARY_TOOLS_LABEL,icon:a(T.Icon,{source:y("ic_warning_24px")}),onPress:()=>Fy({key:"ErrorBoundaryTools",header:{title:"Which ErrorBoundary do you want to trip?",icon:a(T.Icon,{style:{marginRight:8},source:y("ic_warning_24px")}),onClose:()=>My()},options:[{label:h.BUNNY,onPress:()=>o.push("BUNNY_CUSTOM_PAGE",{render:()=>a("undefined",{})})},{label:"Discord",isDestructive:!0,onPress:()=>o.push("BUNNY_CUSTOM_PAGE",{noErrorBoundary:!0})}]})}),a(T,{label:h.INSTALL_REACT_DEVTOOLS,subLabel:h.RESTART_REQUIRED_TO_TAKE_EFFECT,icon:a(T.Icon,{source:y("DownloadIcon")}),trailing:a(Y,{size:"sm",loading:e===Zr.LOADING,disabled:e===Zr.LOADING,variant:e===Zr.TRUE?"secondary":"primary",text:e===Zr.TRUE?h.UNINSTALL:h.INSTALL,onPress:x(function*(){e===Zr.FALSE?r.downloadFile(ky,"preloads/reactDevtools.js"):e===Zr.TRUE&&r.removeFile("preloads/reactDevtools.js")}),icon:y(e===Zr.TRUE?"ic_message_delete":"DownloadIcon"),style:{marginLeft:8}})}),a(ft,{label:h.ENABLE_EVAL_COMMAND,subLabel:h.ENABLE_EVAL_COMMAND_DESC,icon:a(T.Icon,{source:y("PencilIcon")}),value:!!D.enableEvalCommand,onValueChange:n=>{D.enableEvalCommand=n}})]})]})})})}var Xp,ki,My,Fy,jy,Uy,qp,ky,Hy,Qp=p(()=>{"use strict";s();l();pe();z();xe();zp();Kp();be();le();yt();ht();Ee();ge();G();ee();me();Jo();Sr();Xr();Xp=U(K()),ki=U(K()),{hideActionSheet:My}=H(()=>L("openLazy","hideActionSheet")),{showSimpleActionSheet:Fy}=H(()=>L("showSimpleActionSheet")),{openAlert:jy}=H(()=>L("openAlert","dismissAlert")),{AlertModal:Uy,AlertActionButton:qp}=H(()=>L("AlertModal","AlertActions")),ky="https://github.com/revenge-mod/react-devtools-core/releases/latest/download/rdtc.js",Hy=Fr({leadingText:{..._t["heading-md/semibold"],color:Je.TEXT_MUTED,marginRight:-4}})});function kc(){aa({name:h.BUNNY,items:[{key:"BUNNY",title:()=>h.BUNNY,icon:{uri:Jt},render:()=>Promise.resolve().then(()=>(wd(),Ed)),useTrailing:()=>"(5506001-main)"},{key:"BUNNY_PLUGINS",title:()=>h.PLUGINS,icon:y("ActivitiesIcon"),render:()=>Promise.resolve().then(()=>(Ap(),wp))},{key:"BUNNY_THEMES",title:()=>h.THEMES,icon:y("PaintPaletteIcon"),render:()=>Promise.resolve().then(()=>(Lp(),Np)),usePredicate:()=>Or()},{key:"BUNNY_FONTS",title:()=>h.FONTS,icon:y("ic_add_text"),render:()=>Promise.resolve().then(()=>(Hp(),kp)),usePredicate:()=>gm()},{key:"BUNNY_DEVELOPER",title:()=>h.DEVELOPER,icon:y("WrenchIcon"),render:()=>Promise.resolve().then(()=>(Qp(),Zp)),usePredicate:()=>Q(D).developerSettings??!1}]}),aa({name:"Bunny",items:[]}),aa({name:"Vendetta",items:[]})}var ia=p(()=>{"use strict";s();l();md();xe();be();le();ht();Ee();na()});var rh=zr((jB,eh)=>{s();l();eh.exports=Ft().lodash});var oh=zr((HB,th)=>{s();l();th.exports=Ft().util});var Hi,nh,ah,ih=p(()=>{"use strict";s();l();z();rn();be();be();sr();le();fa();yt();ht();Le();Ee();vr();qs();ut();Fe();G();ee();ee();Jo();Sr();Xr();Dr();Bo();Hi=U(Ur()),nh=U(K());xt();ah=()=>{var e=t=>o=>t(En.createSimpleFilter(o,Uf(new Error().stack))),r=window.vendetta={patcher:{before:xn.before,after:xn.after,instead:xn.instead},metro:{modules:window.modules,find:e(Oe),findAll:e(Mt),findByProps:(...t)=>{t.length===1&&t[0]==="KeyboardAwareScrollView"&&t.push("listenToKeyboardEvents");var o=L(...t);if(o==null&&t.includes("ActionSheetTitleHeader")){var n=L("ActionSheetRow");return{...n,ActionSheetTitleHeader:n.BottomSheetTitleHeader,ActionSheetContentContainer:({children:i})=>((0,Hi.useEffect)(()=>console.warn("Discord has removed 'ActionSheetContentContainer', please move into something else. This has been temporarily replaced with View"),[]),(0,Hi.createElement)(nh.View,null,i))}}return o},findByPropsAll:(...t)=>bs(...t),findByName:(t,o)=>t==="create"&&typeof o>"u"?Uo("create",!1).default:Uo(t,o??!0),findByNameAll:(t,o=!0)=>Es(t,o),findByDisplayName:(t,o=!0)=>ws(t,o),findByDisplayNameAll:(t,o=!0)=>Ts(t,o),findByTypeName:(t,o=!0)=>Cs(t,o),findByTypeNameAll:(t,o=!0)=>Rs(t,o),findByStoreName:t=>Is(t),common:{constants:Nr,channels:zn,i18n:vl,url:zt,toasts:Gn,stylesheet:{createThemedStyleSheet:uu},clipboard:Me,assets:yl,invites:_l,commands:_o,navigation:xl,navigationStack:Sl,NavigationNative:_e,Flux:bl,FluxDispatcher:Lr,React:$n,ReactNative:Qa,moment:Eu(),chroma:zo(),lodash:rh(),util:oh()}},constants:{DISCORD_SERVER:"https://discord.gg/n9QQ4XhhJP",GITHUB:"https://github.com/vendetta-mod",PROXY_PREFIX:"https://vd-plugins.github.io/proxy",HTTP_REGEX:/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&/=]*)$/,HTTP_REGEX_MULTI:/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&//=]*)/g,DISCORD_SERVER_ID:"1015931589865246730",PLUGINS_CHANNEL_ID:"1091880384561684561",THEMES_CHANNEL_ID:"1091880434939482202"},utils:{findInReactTree:(t,o)=>st(t,o),findInTree:(t,o,n)=>lt(t,o,n),safeFetch:(t,o,n)=>We(t,o,n),unfreeze:t=>Object.isFrozen(t)?{...t}:t,without:(t,...o)=>yn(t,o)},debug:{connectToDebugger:t=>Qn(t),getDebugInfo:()=>Mr()},ui:{components:{Forms:Ja,General:Qa,Alert:Mn,Button:tl,HelpMessage:(...t)=>a(Fn,{...t}),SafeAreaView:(...t)=>a(jn,{...t}),Summary:oa,ErrorBoundary:Se,Codeblock:jr,Search:Xt},toasts:{showToast:(t,o)=>$(t,o)},alerts:{showConfirmationAlert:t=>Hr(t),showCustomAlert:(t,o)=>Fu(t,o),showInputAlert:t=>jd(t)},assets:{all:new Proxy({},{get(t,o){if(typeof o=="string"){if(t[o])return t[o];for(var n of Wt())if(n.name)return t[o]=n}},ownKeys(t){var o=new Set;for(var n of Wt())t[n.name]=n,o.add(n.name);return[...o]}}),find:t=>qo(t),getAssetByName:t=>qo(t),getAssetByID:t=>qo(t),getAssetIDByName:t=>y(t)},semanticColors:Je,rawColors:jm},plugins:{plugins:V.plugins,fetchPlugin:t=>V.fetchPlugin(t),installPlugin:(t,o=!0)=>V.installPlugin(t,o),startPlugin:t=>V.startPlugin(t),stopPlugin:(t,o=!0)=>V.stopPlugin(t,o),removePlugin:t=>V.removePlugin(t),getSettings:t=>V.getSettings(t)},themes:{themes:fe,fetchTheme:(t,o)=>So(t,o),installTheme:t=>mt(t),selectTheme:t=>dt(t==="default"?null:fe[t]),removeTheme:t=>bo(t),getCurrentTheme:()=>Yt(),updateThemes:()=>oi()},commands:{registerCommand:on},storage:{createProxy:t=>In(t),useProxy:t=>Q(t),createStorage:t=>ar(t),wrapSync:t=>Cr(t),awaitSyncWrapper:t=>jt(t),createMMKVBackend:t=>Rr(t),createFileBackend:t=>(Ie()&&t==="vendetta_theme.json"&&(t="pyoncord/current-theme.json"),ho(t))},settings:D,loader:{identity:Fl()??void 0,config:xr},logger:{log:(...t)=>console.log(...t),info:(...t)=>console.info(...t),warn:(...t)=>console.warn(...t),error:(...t)=>console.error(...t),time:(...t)=>console.time(...t),trace:(...t)=>console.trace(...t),verbose:(...t)=>console.log(...t)},version:Zn,unload:()=>{delete window.vendetta}};return()=>r.unload()}});var sh=p(()=>{"use strict";s();l()});var lh=p(()=>{"use strict";s();l()});var Hc={};F(Hc,{alerts:()=>Nu,components:()=>vi,settings:()=>Tu,sheets:()=>fu,styles:()=>cu,toasts:()=>mi});var uh=p(()=>{"use strict";s();l();bi();Sr();na();Ao();Xr();Dr()});var Vc={};F(Vc,{_jsx:()=>rl,api:()=>Wu,fonts:()=>Sa,managers:()=>Vy,metro:()=>ri,plugins:()=>ha,themes:()=>Eo,ui:()=>Hc,unload:()=>wa,utils:()=>qa});function wa(){for(var e of ch)typeof e=="function"&&e();delete window.bunny}var Vy,ch,fh=p(()=>{"use strict";s();l();sh();lh();Lo();Qt();sr();Ku();uh();vr();Fe();Lo();Qt();sr();z();ge();Vy=Re(()=>(console.warn("bunny.managers.* is deprecated, and moved the top level (bunny.*). bunny.managers will be eventually removed soon"),{get fonts(){return Sa},get plugins(){return ha},get themes(){return Eo}}),{hint:"object"}),ch=[];wa.push=e=>{ch.push(e)}});var mh={};F(mh,{default:()=>zy});var zy,dh=p(()=>{"use strict";s();l();pe();ad();id();fd();xe();ia();ih();xt();Lo();Qt();sr();fa();yt();Gu();Ri();ut();na();fh();zy=x(function*(){yield Promise.all([bu(),Ml(),Vu(),Au(),nu(),Hu(),Uu(),ah(),Dm(),kc(),cd(),Su(),dc()]).then(e=>e.forEach(r=>r&&wa.push(r))),window.bunny=Vc,V.initPlugins().then(e=>wa.push(e)).catch(()=>alert("Failed to initialize Vendetta plugins")),pc(),Pc(),ke.log("Revenge is ready!")})});s();l();pe();var{instead:Gy}=Pa();globalThis.window=globalThis;function ph(){return zc.apply(this,arguments)}function zc(){return zc=x(function*(){try{Object.freeze=Object.seal=Object,yield(Lt(),Ge(Rm)).initMetroCache(),yield(dh(),Ge(mh)).default()}catch(t){var{ClientInfoManager:e}=(Er(),Ge(Xc)),r=t instanceof Error?t.stack:void 0;console.log(r??t?.toString?.()??t),alert([`Failed to load Revenge!
`,`Build Number: ${e.Build}`,"Revenge: 5506001-main",r||t?.toString?.()].join(`
`))}}),zc.apply(this,arguments)}if(typeof globalThis.__r<"u")ph();else{var e=function(r){var t=window.__fbBatchedBridge,o=new Array,n=Gy("callFunctionReturnFlushedQueue",t,(u,c)=>u[0]==="AppRegistry"||!t.getCallableModule(u[0])?(o.push(u),t.flushedQueue()):c.apply(t,u)),i=function(){var u=x(function*(){yield ph(),n(),r(0),o.forEach(c=>t.getCallableModule(c[0])&&t.__callFunction(...c))});return function(){return u.apply(this,arguments)}}();i()};$y=e,Object.defineProperties(globalThis,{__r:{configurable:!0,get:()=>Vi,set(r){Vi=function(o){if(o===0)window.modules instanceof Map&&(window.modules=Object.fromEntries(window.modules)),e(r),Vi=r;else return r(o)}}},__d:{configurable:!0,get(){return window.Object&&!window.modules&&(window.modules=window.__c?.()),this.value},set(r){this.value=r}}})}var Vi,$y;})();
//# sourceURL=revenge
